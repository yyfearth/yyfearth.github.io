define("lib/nvd3",["lib/d3v3"],function(t){function e(t,e){return new Date(e,t+1,0).getDate()}var n=window.nv||{};return n.version="1.1.13b",n.dev=!1,n.d3=t,window.nv=n,n.tooltip={},n.utils=n.utils||{},n.models={},n.charts={},n.graphs=[],n.logs={},n.dispatch=t.dispatch("render_start","render_end"),n.dev&&(n.dispatch.on("render_start",function(){n.logs.startTime=+new Date}),n.dispatch.on("render_end",function(){n.logs.endTime=+new Date,n.logs.totalTime=n.logs.endTime-n.logs.startTime,n.log("total",n.logs.totalTime)})),n.log=function(){return n.dev&&console.log&&console.log.apply?console.log.apply(console,arguments):n.dev&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments),arguments[arguments.length-1]},n.render=function(t){t=t||1,n.render.active=!0,n.dispatch.render_start(),setTimeout(function(){for(var e,r,a=0;t>a&&(r=n.render.queue[a]);a++)e=r.generate(),typeof r.callback==typeof Function&&r.callback(e),n.graphs.push(e);n.render.queue.splice(0,a),n.render.queue.length?setTimeout(arguments.callee,0):(n.render.active=!1,n.dispatch.render_end())},0)},n.render.active=!1,n.render.queue=[],n.addGraph=function(t,e){typeof t==typeof Function&&(t={generate:t,callback:e}),n.render.queue.push(t),n.render.active||n.render()},n.identity=function(t){return t},n.strip=function(t){return t.replace(/(\s|&)/g,"")},t.time.monthEnd=function(t){return new Date(t.getFullYear(),t.getMonth(),0)},t.time.monthEnds=function(t,e,n){return function(r,a,o){var i=t(r),l=[];if(r>i&&e(i),o>1)for(;a>i;)r=new Date(+i),0===n(r)%o&&l.push(r),e(i);else for(;a>i;)l.push(new Date(+i)),e(i);return l}}(t.time.monthEnd,function(t){t.setUTCDate(t.getUTCDate()+1),t.setDate(e(t.getMonth()+1,t.getFullYear()))},function(t){return t.getMonth()}),n.interactiveGuideline=function(){function e(p){p.each(function(p){function f(){var n=t.mouse(this),a=n[0],n=n[1],o=!0,u=!1;d&&(a=t.event.offsetX,n=t.event.offsetY,"svg"!==t.event.target.tagName&&(o=!1),t.event.target.className.baseVal.match("nv-legend")&&(u=!0)),o&&(a-=i.left,n-=i.top),0>a||0>n||a>h||n>m||t.event.relatedTarget&&void 0===t.event.relatedTarget.ownerSVGElement||u?d&&t.event.relatedTarget&&void 0===t.event.relatedTarget.ownerSVGElement&&t.event.relatedTarget.className.match(r.nvPointerEventsClass)||(s.elementMouseout({mouseX:a,mouseY:n}),e.renderGuideLine(null)):(o=l.invert(a),s.elementMousemove({mouseX:a,mouseY:n,pointXValue:o}),"dblclick"===t.event.type&&s.elementDblclick({mouseX:a,mouseY:n,pointXValue:o}))}var g=t.select(this),h=a||960,m=o||400,v=g.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([p]);v.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),c&&(c.on("mousemove",f,!0).on("mouseout",f,!0).on("dblclick",f),e.renderGuideLine=function(t){u&&(t=v.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[n.utils.NaNtoZero(t)]:[],String),t.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",m).attr("y2",0),t.exit().remove())})})}var r=n.models.tooltip(),a=null,o=null,i={left:0,top:0},l=t.scale.linear();t.scale.linear();var s=t.dispatch("elementMousemove","elementMouseout","elementDblclick"),u=!0,c=null,d=-1!==navigator.userAgent.indexOf("MSIE");return e.dispatch=s,e.tooltip=r,e.margin=function(t){return arguments.length?(i.top="undefined"!=typeof t.top?t.top:i.top,i.left="undefined"!=typeof t.left?t.left:i.left,e):i},e.width=function(t){return arguments.length?(a=t,e):a},e.height=function(t){return arguments.length?(o=t,e):o},e.xScale=function(t){return arguments.length?(l=t,e):l},e.showGuideLine=function(t){return arguments.length?(u=t,e):u},e.svgContainer=function(t){return arguments.length?(c=t,e):c},e},n.interactiveBisect=function(e,n,r){if(!e instanceof Array)return null;"function"!=typeof r&&(r=function(t){return t.x});var a=t.bisector(r).left,a=t.max([0,a(e,n)-1]),o=r(e[a],a);if("undefined"==typeof o&&(o=a),o===n)return a;var i=t.min([a+1,e.length-1]);return e=r(e[i],i),"undefined"==typeof e&&(e=i),Math.abs(e-n)>=Math.abs(o-n)?a:i},n.nearestValueIndex=function(t,e,n){var r=1/0,a=null;return t.forEach(function(t,o){var i=Math.abs(e-t);r>=i&&n>i&&(r=i,a=o)}),a},function(){window.nv.tooltip={},window.nv.models.tooltip=function(){function e(){if(f){var r;if(r=a&&a.series&&0<a.series.length?!0:!1){if(c){r=t.select(c),"svg"!==r.node().tagName&&(r=r.select("svg"));var m=r.node()?r.attr("viewBox"):null;m&&(m=m.split(" "),r=parseInt(r.style("width"))/m[2],p.left*=r,p.top*=r)}r=p.left;var v,m=null!=s?s:p.top;v=y(a);var x;x=c?t.select(c):t.select("body");var b=x.select(".nvtooltip");if(null===b.node()&&(b=x.append("div").attr("class","nvtooltip "+(u?u:"xy-tooltip")).attr("id",g)),b.node().innerHTML=v,b.style("top",0).style("left",0).style("opacity",0),b.selectAll("div, table, td, tr").classed(h,!0),b.classed(h,!0),d=v=b.node(),c){(b=c.getElementsByTagName("svg")[0])?b.getBoundingClientRect():c.getBoundingClientRect();var k=0;if(x=0,b){if(b=b.getBoundingClientRect(),k=c.getBoundingClientRect(),x=b.top,0>x){var w=c.getBoundingClientRect();x=Math.abs(x)>w.height?0:x}x=Math.abs(x-k.top),k=Math.abs(b.left-k.left)}r+=c.offsetLeft+k-2*c.scrollLeft,m+=c.offsetTop+x-2*c.scrollTop}return l&&l>0&&(m=Math.floor(m/l)*l),n.tooltip.calcTooltipPosition([r,m],o,i,v),e}}}var r=null,a=null,o="w",i=50,l=25,s=null,u=null,c=null,d=null,p={left:null,top:null},f=!0,g="nvtooltip-"+Math.floor(1e5*Math.random()),h="nv-pointer-events-none",m=function(t){return t},v=function(t){return t},y=function(e){if(null!=r)return r;if(null==e)return"";var n=t.select(document.createElement("table"));n.selectAll("thead").data([e]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(v(e.value));var a=n.selectAll("tbody").data([e]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});return a.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),a.append("td").classed("key",!0).html(function(t){return t.key}),a.append("td").classed("value",!0).html(function(t,e){return m(t.value,e)}),a.selectAll("td").each(function(e){e.highlight&&(e=t.scale.linear().domain([0,1]).range(["#fff",e.color]),t.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6)))}),n=n.node().outerHTML,void 0!==e.footer&&(n+="<div class='footer'>"+e.footer+"</div>"),n};return e.nvPointerEventsClass=h,e.content=function(t){return arguments.length?(r=t,e):r},e.tooltipElem=function(){return d},e.contentGenerator=function(t){return arguments.length?("function"==typeof t&&(y=t),e):y},e.data=function(t){return arguments.length?(a=t,e):a},e.gravity=function(t){return arguments.length?(o=t,e):o},e.distance=function(t){return arguments.length?(i=t,e):i},e.snapDistance=function(t){return arguments.length?(l=t,e):l},e.classes=function(t){return arguments.length?(u=t,e):u},e.chartContainer=function(t){return arguments.length?(c=t,e):c},e.position=function(t){return arguments.length?(p.left="undefined"!=typeof t.left?t.left:p.left,p.top="undefined"!=typeof t.top?t.top:p.top,e):p},e.fixedTop=function(t){return arguments.length?(s=t,e):s},e.enabled=function(t){return arguments.length?(f=t,e):f},e.valueFormatter=function(t){return arguments.length?("function"==typeof t&&(m=t),e):m},e.headerFormatter=function(t){return arguments.length?("function"==typeof t&&(v=t),e):v},e.id=function(){return g},e},n.tooltip.show=function(t,e,r,a,o,i){var l=document.createElement("div");l.className="nvtooltip "+(i?i:"xy-tooltip"),i=o,(!o||o.tagName.match(/g|svg/i))&&(i=document.getElementsByTagName("body")[0]),l.style.left=0,l.style.top=0,l.style.opacity=0,l.innerHTML=e,i.appendChild(l),o&&(t[0]-=o.scrollLeft,t[1]-=o.scrollTop),n.tooltip.calcTooltipPosition(t,r,a,l)},n.tooltip.findFirstNonSVGParent=function(t){for(;null!==t.tagName.match(/^g|svg$/i);)t=t.parentNode;return t},n.tooltip.findTotalOffsetTop=function(t,e){var n=e;do isNaN(t.offsetTop)||(n+=t.offsetTop);while(t=t.offsetParent);return n},n.tooltip.findTotalOffsetLeft=function(t,e){var n=e;do isNaN(t.offsetLeft)||(n+=t.offsetLeft);while(t=t.offsetParent);return n},n.tooltip.calcTooltipPosition=function(t,e,r,a){var o,i,l=parseInt(a.offsetHeight),s=parseInt(a.offsetWidth),u=n.utils.windowSize().width,c=n.utils.windowSize().height,d=window.pageYOffset,p=window.pageXOffset,c=window.innerWidth>=document.body.scrollWidth?c:c-16,u=window.innerHeight>=document.body.scrollHeight?u:u-16;r=r||20;var f=function(t){return n.tooltip.findTotalOffsetTop(t,i)},g=function(t){return n.tooltip.findTotalOffsetLeft(t,o)};switch(e||"s"){case"e":o=t[0]-s-r,i=t[1]-l/2,e=g(a),f=f(a),p>e&&(o=t[0]+r>p?t[0]+r:p-e+o),d>f&&(i=d-f+i),f+l>d+c&&(i=d+c-f+i-l);break;case"w":o=t[0]+r,i=t[1]-l/2,e=g(a),f=f(a),e+s>u&&(o=t[0]-s-r),d>f&&(i=d+5),f+l>d+c&&(i=d+c-f+i-l);break;case"n":o=t[0]-s/2-5,i=t[1]+r,e=g(a),f=f(a),p>e&&(o=p+5),e+s>u&&(o=o-s/2+5),f+l>d+c&&(i=d+c-f+i-l);break;case"s":o=t[0]-s/2,i=t[1]-l-r,e=g(a),f=f(a),p>e&&(o=p+5),e+s>u&&(o=o-s/2+5),d>f&&(i=d);break;case"none":o=t[0],i=t[1]-r,e=g(a),f=f(a)}return a.style.left=o+"px",a.style.top=i+"px",a.style.opacity=1,a.style.position="absolute",a},n.tooltip.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}},500)}}(),n.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},n.utils.windowResize=function(t){if(void 0!==t){var e=window.onresize;window.onresize=function(n){"function"==typeof e&&e(n),t(n)}}},n.utils.getColor=function(t){return arguments.length?"[object Array]"===Object.prototype.toString.call(t)?function(e,n){return e.color||t[n%t.length]}:t:n.utils.defaultColor()},n.utils.defaultColor=function(){var e=t.scale.category20().range();return function(t,n){return t.color||e[n%e.length]}},n.utils.customTheme=function(e,n,r){n=n||function(t){return t.key},r=r||t.scale.category20().range();var a=r.length;return function(t){var o=n(t);return a||(a=r.length),"undefined"!=typeof e[o]?"function"==typeof e[o]?e[o]():e[o]:r[--a]}},n.utils.pjax=function(e,r){function a(a){t.html(a,function(a){var o=t.select(r).node();o.parentNode.replaceChild(t.select(a).select(r).node(),o),n.utils.pjax(e,r)})}t.selectAll(e).on("click",function(){history.pushState(this.href,this.textContent,this.href),a(this.href),t.event.preventDefault()}),t.select(window).on("popstate",function(){t.event.state&&a(t.event.state)})},n.utils.calcApproxTextWidth=function(e){if(e instanceof t.selection){var n=parseInt(e.style("font-size").replace("px",""));return.5*e.text().length*n}return 0},n.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||1/0===t?0:t},n.utils.optionsFunc=function(e){return e&&t.map(e).forEach(function(t,e){"function"==typeof this[t]&&this[t](e)}.bind(this)),this},n.models.axis=function(){function e(n){return n.each(function(e){e=t.select(this).selectAll("g.nv-wrap.nv-axis").data([e]),e.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");var n=e.select("g");null!==h?r.ticks(h):"top"!=r.orient()&&"bottom"!=r.orient()||r.ticks(Math.abs(l.range()[1]-l.range()[0])/100),n.transition().call(r),v=v||r.scale();var i=r.tickFormat();null==i&&(i=v.tickFormat());var y=n.selectAll("text.nv-axislabel").data([s||null]);switch(y.exit().remove(),r.orient()){case"top":y.enter().append("text").attr("class","nv-axislabel");var x=2==l.range().length?l.range()[1]:l.range()[l.range().length-1]+(l.range()[1]-l.range()[0]);y.attr("text-anchor","middle").attr("y",0).attr("x",x/2),u&&(x=e.selectAll("g.nv-axisMaxMin").data(l.domain()),x.enter().append("g").attr("class","nv-axisMaxMin").append("text"),x.exit().remove(),x.attr("transform",function(t){return"translate("+l(t)+",0)"}).select("text").attr("dy","0em").attr("y",-r.tickPadding()).attr("text-anchor","middle").text(function(t){var e=i(t);return(""+e).match("NaN")?"":e}),x.transition().attr("transform",function(t,e){return"translate("+l.range()[e]+",0)"}));break;case"bottom":var b=36,k=30,w=n.selectAll("g").select("text");d%360&&(w.each(function(){var t=this.getBBox().width;t>k&&(k=t)}),x=Math.abs(Math.sin(d*Math.PI/180)),b=(x?x*k:k)+30,w.attr("transform",function(){return"rotate("+d+" 0,0)"}).style("text-anchor",d%360>0?"start":"end")),y.enter().append("text").attr("class","nv-axislabel"),x=2==l.range().length?l.range()[1]:l.range()[l.range().length-1]+(l.range()[1]-l.range()[0]),y.attr("text-anchor","middle").attr("y",b).attr("x",x/2),u&&(x=e.selectAll("g.nv-axisMaxMin").data([l.domain()[0],l.domain()[l.domain().length-1]]),x.enter().append("g").attr("class","nv-axisMaxMin").append("text"),x.exit().remove(),x.attr("transform",function(t){return"translate("+(l(t)+(g?l.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",r.tickPadding()).attr("transform",function(){return"rotate("+d+" 0,0)"}).style("text-anchor",d?d%360>0?"start":"end":"middle").text(function(t){var e=i(t);return(""+e).match("NaN")?"":e}),x.transition().attr("transform",function(t){return"translate("+(l(t)+(g?l.rangeBand()/2:0))+",0)"})),f&&w.attr("transform",function(t,e){return"translate(0,"+(0==e%2?"0":"12")+")"});break;case"right":y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",p?"middle":"begin").attr("transform",p?"rotate(90)":"").attr("y",p?-Math.max(a.right,o)+12:-10).attr("x",p?l.range()[0]/2:r.tickPadding()),u&&(x=e.selectAll("g.nv-axisMaxMin").data(l.domain()),x.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),x.exit().remove(),x.attr("transform",function(t){return"translate(0,"+l(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",r.tickPadding()).style("text-anchor","start").text(function(t){var e=i(t);return(""+e).match("NaN")?"":e}),x.transition().attr("transform",function(t,e){return"translate(0,"+l.range()[e]+")"}).select("text").style("opacity",1));break;case"left":y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",p?"middle":"end").attr("transform",p?"rotate(-90)":"").attr("y",p?-Math.max(a.left,o)+m:-10).attr("x",p?-l.range()[0]/2:-r.tickPadding()),u&&(x=e.selectAll("g.nv-axisMaxMin").data(l.domain()),x.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),x.exit().remove(),x.attr("transform",function(t){return"translate(0,"+v(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-r.tickPadding()).attr("text-anchor","end").text(function(t){var e=i(t);return(""+e).match("NaN")?"":e}),x.transition().attr("transform",function(t,e){return"translate(0,"+l.range()[e]+")"}).select("text").style("opacity",1))}if(y.text(function(t){return t}),!u||"left"!==r.orient()&&"right"!==r.orient()||(n.selectAll("g").each(function(e){t.select(this).select("text").attr("opacity",1),(l(e)<l.range()[1]+10||l(e)>l.range()[0]-10)&&((e>1e-10||-1e-10>e)&&t.select(this).attr("opacity",0),t.select(this).select("text").attr("opacity",0))}),l.domain()[0]==l.domain()[1]&&0==l.domain()[0]&&e.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),u&&("top"===r.orient()||"bottom"===r.orient())){var A=[];e.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?A.push(l(t)-this.getBBox().width-4):A.push(l(t)+this.getBBox().width+4)}catch(n){e?A.push(l(t)-4):A.push(l(t)+4)}}),n.selectAll("g").each(function(e){(l(e)<A[0]||l(e)>A[1])&&(e>1e-10||-1e-10>e?t.select(this).remove():t.select(this).select("text").remove())})}c&&n.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t.__data__)/1e6)&&void 0!==t.__data__}).classed("zero",!0),v=l.copy()}),e}var r=t.svg.axis(),a={top:0,right:0,bottom:0,left:0},o=75,i=60,l=t.scale.linear(),s=null,u=!0,c=!0,d=0,p=!0,f=!1,g=!1,h=null,m=12;r.scale(l).orient("bottom").tickFormat(function(t){return t});var v;return e.axis=r,t.rebind(e,r,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),t.rebind(e,l,"domain","range","rangeBand","rangeBands"),e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(a.top="undefined"!=typeof t.top?t.top:a.top,a.right="undefined"!=typeof t.right?t.right:a.right,a.bottom="undefined"!=typeof t.bottom?t.bottom:a.bottom,a.left="undefined"!=typeof t.left?t.left:a.left,e):a},e.width=function(t){return arguments.length?(o=t,e):o},e.ticks=function(t){return arguments.length?(h=t,e):h},e.height=function(t){return arguments.length?(i=t,e):i},e.axisLabel=function(t){return arguments.length?(s=t,e):s},e.showMaxMin=function(t){return arguments.length?(u=t,e):u},e.highlightZero=function(t){return arguments.length?(c=t,e):c},e.scale=function(n){return arguments.length?(l=n,r.scale(l),g="function"==typeof l.rangeBands,t.rebind(e,l,"domain","range","rangeBand","rangeBands"),e):l},e.rotateYLabel=function(t){return arguments.length?(p=t,e):p},e.rotateLabels=function(t){return arguments.length?(d=t,e):d},e.staggerLabels=function(t){return arguments.length?(f=t,e):f},e.axisLabelDistance=function(t){return arguments.length?(m=t,e):m},e},n.models.bullet=function(){function e(n){return n.each(function(e,n){var a=c-r.left-r.right,p=d-r.top-r.bottom,h=t.select(this),m=i.call(this,e,n).slice().sort(t.descending),v=l.call(this,e,n).slice().sort(t.descending),y=s.call(this,e,n).slice().sort(t.descending),x=(e.rangeLabels?e.rangeLabels:[]).slice(),b=(e.markerLabels?e.markerLabels:[]).slice(),k=(e.measureLabels?e.measureLabels:[]).slice(),w=t.scale.linear().domain(t.extent(t.merge([u,m]))).range(o?[a,0]:[0,a]);this.__chart__||t.scale.linear().domain([0,1/0]).range(w.range()),this.__chart__=w;var a=t.min(m),A=t.max(m),m=m[1],h=h.selectAll("g.nv-wrap.nv-bullet").data([e]),S=h.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),C=h.select("g");S.append("rect").attr("class","nv-range nv-rangeMax"),S.append("rect").attr("class","nv-range nv-rangeAvg"),S.append("rect").attr("class","nv-range nv-rangeMin"),S.append("rect").attr("class","nv-measure"),S.append("path").attr("class","nv-markerTriangle"),h.attr("transform","translate("+r.left+","+r.top+")");var S=function(t){return Math.abs(w(t)-w(0))},M=function(t){return 0>t?w(t):w(0)};C.select("rect.nv-rangeMax").attr("height",p).attr("width",S(A>0?A:a)).attr("x",M(A>0?A:a)).datum(A>0?A:a),C.select("rect.nv-rangeAvg").attr("height",p).attr("width",S(m)).attr("x",M(m)).datum(m),C.select("rect.nv-rangeMin").attr("height",p).attr("width",S(A)).attr("x",M(A)).attr("width",S(A>0?a:A)).attr("x",M(A>0?a:A)).datum(A>0?a:A),C.select("rect.nv-measure").style("fill",f).attr("height",p/3).attr("y",p/3).attr("width",0>y?w(0)-w(y[0]):w(y[0])-w(0)).attr("x",M(y)).on("mouseover",function(){g.elementMouseover({value:y[0],label:k[0]||"Current",pos:[w(y[0]),p/2]})}).on("mouseout",function(){g.elementMouseout({value:y[0],label:k[0]||"Current"})}),a=p/6,v[0]?C.selectAll("path.nv-markerTriangle").attr("transform",function(){return"translate("+w(v[0])+","+p/2+")"}).attr("d","M0,"+a+"L"+a+","+-a+" "+-a+","+-a+"Z").on("mouseover",function(){g.elementMouseover({value:v[0],label:b[0]||"Previous",pos:[w(v[0]),p/2]})}).on("mouseout",function(){g.elementMouseout({value:v[0],label:b[0]||"Previous"})}):C.selectAll("path.nv-markerTriangle").remove(),h.selectAll(".nv-range").on("mouseover",function(t,e){g.elementMouseover({value:t,label:x[e]||(e?1==e?"Mean":"Minimum":"Maximum"),pos:[w(t),p/2]})}).on("mouseout",function(t,e){g.elementMouseout({value:t,label:x[e]||(e?1==e?"Mean":"Minimum":"Maximum")})})}),e}var r={top:0,right:0,bottom:0,left:0},a="left",o=!1,i=function(t){return t.ranges},l=function(t){return t.markers},s=function(t){return t.measures},u=[0],c=380,d=30,p=null,f=n.utils.getColor(["#1f77b4"]),g=t.dispatch("elementMouseover","elementMouseout");return e.dispatch=g,e.options=n.utils.optionsFunc.bind(e),e.orient=function(t){return arguments.length?(a=t,o="right"==a||"bottom"==a,e):a},e.ranges=function(t){return arguments.length?(i=t,e):i},e.markers=function(t){return arguments.length?(l=t,e):l},e.measures=function(t){return arguments.length?(s=t,e):s},e.forceX=function(t){return arguments.length?(u=t,e):u},e.width=function(t){return arguments.length?(c=t,e):c},e.height=function(t){return arguments.length?(d=t,e):d},e.margin=function(t){return arguments.length?(r.top="undefined"!=typeof t.top?t.top:r.top,r.right="undefined"!=typeof t.right?t.right:r.right,r.bottom="undefined"!=typeof t.bottom?t.bottom:r.bottom,r.left="undefined"!=typeof t.left?t.left:r.left,e):r},e.tickFormat=function(t){return arguments.length?(p=t,e):p},e.color=function(t){return arguments.length?(f=n.utils.getColor(t),e):f},e},n.models.bulletChart=function(){function e(a){return a.each(function(v,y){var x=t.select(this),b=(c||parseInt(x.style("width"))||960)-i.left-i.right,k=d-i.top-i.bottom,w=this;if(e.update=function(){e(a)},e.container=this,!v||!l.call(this,v,y))return x=x.selectAll(".nv-noData").data([h]),x.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),x.attr("x",i.left+b/2).attr("y",18+i.top+k/2).text(function(t){return t}),e;x.selectAll(".nv-noData").remove();var A=l.call(this,v,y).slice().sort(t.descending),S=s.call(this,v,y).slice().sort(t.descending),C=u.call(this,v,y).slice().sort(t.descending),M=x.selectAll("g.nv-wrap.nv-bulletChart").data([v]),D=M.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),x=M.select("g");D.append("g").attr("class","nv-bulletWrap"),D.append("g").attr("class","nv-titles"),M.attr("transform","translate("+i.left+","+i.top+")");var I=t.scale.linear().domain([0,Math.max(A[0],S[0],C[0])]).range(o?[b,0]:[0,b]),W=this.__chart__||t.scale.linear().domain([0,1/0]).range(I.range());this.__chart__=I,A=D.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(d-i.top-i.bottom)/2+")"),A.append("text").attr("class","nv-title").text(function(t){return t.title}),A.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),r.width(b).height(k),A=x.select(".nv-bulletWrap"),t.transition(A).call(r);var z=p||I.tickFormat(b/100),b=x.selectAll("g.nv-tick").data(I.ticks(b/50),function(t){return this.textContent||z(t)}),x=b.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+W(t)+",0)"}).style("opacity",1e-6);x.append("line").attr("y1",k).attr("y2",7*k/6),x.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*k/6).text(z),x=t.transition(b).attr("transform",function(t){return"translate("+I(t)+",0)"}).style("opacity",1),x.select("line").attr("y1",k).attr("y2",7*k/6),x.select("text").attr("y",7*k/6),t.transition(b.exit()).attr("transform",function(t){return"translate("+I(t)+",0)"}).style("opacity",1e-6).remove(),m.on("tooltipShow",function(t){if(t.key=v.title,f){var r=w.parentNode,a=t.pos[0]+(r.offsetLeft||0)+i.left,o=t.pos[1]+(r.offsetTop||0)+i.top,l=g(t.key,t.label,t.value,t,e);n.tooltip.show([a,o],l,0>t.value?"e":"w",null,r)}})}),t.timer.flush(),e}var r=n.models.bullet(),a="left",o=!1,i={top:5,right:40,bottom:20,left:120},l=function(t){return t.ranges},s=function(t){return t.markers},u=function(t){return t.measures},c=null,d=55,p=null,f=!0,g=function(t,e,n){return"<h3>"+e+"</h3><p>"+n+"</p>"},h="No Data Available.",m=t.dispatch("tooltipShow","tooltipHide");return r.dispatch.on("elementMouseover.tooltip",function(t){m.tooltipShow(t)}),r.dispatch.on("elementMouseout.tooltip",function(t){m.tooltipHide(t)}),m.on("tooltipHide",function(){f&&n.tooltip.cleanup()}),e.dispatch=m,e.bullet=r,t.rebind(e,r,"color"),e.options=n.utils.optionsFunc.bind(e),e.orient=function(t){return arguments.length?(a=t,o="right"==a||"bottom"==a,e):a},e.ranges=function(t){return arguments.length?(l=t,e):l},e.markers=function(t){return arguments.length?(s=t,e):s},e.measures=function(t){return arguments.length?(u=t,e):u},e.width=function(t){return arguments.length?(c=t,e):c},e.height=function(t){return arguments.length?(d=t,e):d},e.margin=function(t){return arguments.length?(i.top="undefined"!=typeof t.top?t.top:i.top,i.right="undefined"!=typeof t.right?t.right:i.right,i.bottom="undefined"!=typeof t.bottom?t.bottom:i.bottom,i.left="undefined"!=typeof t.left?t.left:i.left,e):i},e.tickFormat=function(t){return arguments.length?(p=t,e):p},e.tooltips=function(t){return arguments.length?(f=t,e):f},e.tooltipContent=function(t){return arguments.length?(g=t,e):g},e.noData=function(t){return arguments.length?(h=t,e):h},e},n.models.cumulativeLineChart=function(){function e(L){return L.each(function(L){function H(){G.data([B]);var t=e.transitionDuration();e.transitionDuration(0),e.update(),e.transitionDuration(t)}var P=t.select(this).classed("nv-chart-"+C,!0),T=this,Y=(g||parseInt(P.style("width"))||960)-p.left-p.right,R=(h||parseInt(P.style("height"))||400)-p.top-p.bottom;if(e.update=function(){P.transition().duration(F).call(e)},e.container=this,M.disabled=L.map(function(t){return!!t.disabled}),!D){var E;D={};for(E in M)D[E]=M[E]instanceof Array?M[E].slice(0):M[E]}if(E=t.behavior.drag().on("dragstart",function(){t.select(e.container).style("cursor","ew-resize")}).on("drag",function(){B.x=t.event.x,B.i=Math.round(N.invert(B.x)),H()}).on("dragend",function(){t.select(e.container).style("cursor","auto"),M.index=B.i,z.stateChange(M)}),!(L&&L.length&&L.filter(function(t){return t.values.length}).length))return E=P.selectAll(".nv-noData").data([I]),E.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),E.attr("x",p.left+Y/2).attr("y",p.top+R/2).text(function(t){return t}),e;if(P.selectAll(".nv-noData").remove(),a=i.xScale(),o=i.yScale(),A)i.yDomain(null);else{var V=L.filter(function(t){return!t.disabled}).map(function(e){var n=t.extent(e.values,i.y());return-.95>n[0]&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]}),V=[t.min(V,function(t){return t[0]}),t.max(V,function(t){return t[1]})];i.yDomain(V)}N.domain([0,L[0].values.length-1]).range([0,Y]).clamp(!0),L=r(B.i,L);var _=w?"none":"all",X=P.selectAll("g.nv-wrap.nv-cumulativeLine").data([L]),Z=X.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),V=X.select("g");Z.append("g").attr("class","nv-interactive"),Z.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),Z.append("g").attr("class","nv-y nv-axis"),Z.append("g").attr("class","nv-background"),Z.append("g").attr("class","nv-linesWrap").style("pointer-events",_),Z.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),Z.append("g").attr("class","nv-legendWrap"),Z.append("g").attr("class","nv-controlsWrap"),m&&(u.width(Y),V.select(".nv-legendWrap").datum(L).call(u),p.top!=u.height()&&(p.top=u.height(),R=(h||parseInt(P.style("height"))||400)-p.top-p.bottom),V.select(".nv-legendWrap").attr("transform","translate(0,"+-p.top+")")),k&&(_=[{key:"Re-scale y-axis",disabled:!A}],c.width(140).color(["#444","#444","#444"]),V.select(".nv-controlsWrap").datum(_).attr("transform","translate(0,"+-p.top+")").call(c)),X.attr("transform","translate("+p.left+","+p.top+")"),x&&V.select(".nv-y.nv-axis").attr("transform","translate("+Y+",0)"),_=L.filter(function(t){return t.tempDisabled}),X.select(".tempDisabled").remove(),_.length&&X.append("text").attr("class","tempDisabled").attr("x",Y/2).attr("y","-.71em").style("text-anchor","end").text(_.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),w&&(d.width(Y).height(R).margin({left:p.left,top:p.top}).svgContainer(P).xScale(a),X.select(".nv-interactive").call(d)),Z.select(".nv-background").append("rect"),V.select(".nv-background rect").attr("width",Y).attr("height",R),i.y(function(t){return t.display.y}).width(Y).height(R).color(L.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!L[e].disabled&&!L[e].tempDisabled})),X=V.select(".nv-linesWrap").datum(L.filter(function(t){return!t.disabled&&!t.tempDisabled})),X.call(i),L.forEach(function(t,e){t.seriesIndex=e}),Z=L.filter(function(t){return!t.disabled&&!!W(t)}),Z=V.select(".nv-avgLinesWrap").selectAll("line").data(Z,function(t){return t.key}),_=function(t){return t=o(W(t)),0>t?0:t>R?R:t},Z.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t){return i.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",Y).attr("y1",_).attr("y2",_),Z.style("stroke-opacity",function(t){return t=o(W(t)),0>t||t>R?0:1}).attr("x1",0).attr("x2",Y).attr("y1",_).attr("y2",_),Z.exit().remove();var G=X.selectAll(".nv-indexLine").data([B]);G.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(E),G.attr("transform",function(t){return"translate("+N(t.i)+",0)"}).attr("height",R),v&&(l.scale(a).ticks(Math.min(L[0].values.length,Y/70)).tickSize(-R,0),V.select(".nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),t.transition(V.select(".nv-x.nv-axis")).call(l)),y&&(s.scale(o).ticks(R/36).tickSize(-Y,0),t.transition(V.select(".nv-y.nv-axis")).call(s)),V.select(".nv-background rect").on("click",function(){B.x=t.mouse(this)[0],B.i=Math.round(N.invert(B.x)),M.index=B.i,z.stateChange(M),H()}),i.dispatch.on("elementClick",function(t){B.i=t.pointIndex,B.x=N(B.i),M.index=B.i,z.stateChange(M),H()}),c.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,A=!t.disabled,M.rescaleY=A,z.stateChange(M),e.update()}),u.dispatch.on("stateChange",function(t){M.disabled=t.disabled,z.stateChange(M),e.update()}),d.dispatch.on("elementMousemove",function(t){i.clearHighlights();var r,a,o,u=[];if(L.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(l,s){a=n.interactiveBisect(l.values,t.pointXValue,e.x()),i.highlightPoint(s,a,!0);var c=l.values[a];"undefined"!=typeof c&&("undefined"==typeof r&&(r=c),"undefined"==typeof o&&(o=e.xScale()(e.x()(c,a))),u.push({key:l.key,value:e.y()(c,a),color:f(l,l.seriesIndex)}))}),2<u.length){var c=e.yScale().invert(t.mouseY),g=.03*Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),c=n.nearestValueIndex(u.map(function(t){return t.value}),c,g);null!==c&&(u[c].highlight=!0)}c=l.tickFormat()(e.x()(r,a),a),d.tooltip.position({left:o+p.left,top:t.mouseY+p.top}).chartContainer(T.parentNode).enabled(b).valueFormatter(function(t){return s.tickFormat()(t)}).data({value:c,series:u})(),d.renderGuideLine(o)}),d.dispatch.on("elementMouseout",function(){z.tooltipHide(),i.clearHighlights()}),z.on("tooltipShow",function(t){if(b){var r=T.parentNode,a=t.pos[0]+(r.offsetLeft||0),o=t.pos[1]+(r.offsetTop||0),u=l.tickFormat()(i.x()(t.point,t.pointIndex)),c=s.tickFormat()(i.y()(t.point,t.pointIndex));t=S(t.series.key,u,c,t,e),n.tooltip.show([a,o],t,null,null,r)}}),z.on("changeState",function(t){"undefined"!=typeof t.disabled&&(L.forEach(function(e,n){e.disabled=t.disabled[n]}),M.disabled=t.disabled),"undefined"!=typeof t.index&&(B.i=t.index,B.x=N(B.i),M.index=t.index,G.data([B])),"undefined"!=typeof t.rescaleY&&(A=t.rescaleY),e.update()})}),e}function r(t,e){return e.map(function(e){if(!e.values)return e;var n=i.y()(e.values[t],t);return-.95>n?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(i.y()(t,e)-n)/(1+n)},t}),e)})}var a,o,i=n.models.line(),l=n.models.axis(),s=n.models.axis(),u=n.models.legend(),c=n.models.legend(),d=n.interactiveGuideline(),p={top:30,right:30,bottom:50,left:60},f=n.utils.defaultColor(),g=null,h=null,m=!0,v=!0,y=!0,x=!1,b=!0,k=!0,w=!1,A=!0,S=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"
},C=i.id(),M={index:0,rescaleY:A},D=null,I="No Data Available.",W=function(t){return t.average},z=t.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),F=250;l.orient("bottom").tickPadding(7),s.orient(x?"right":"left"),c.updateState(!1);var N=t.scale.linear(),B={i:0,x:0};return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+p.left,t.pos[1]+p.top],z.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){z.tooltipHide(t)}),z.on("tooltipHide",function(){b&&n.tooltip.cleanup()}),e.dispatch=z,e.lines=i,e.legend=u,e.xAxis=l,e.yAxis=s,e.interactiveLayer=d,t.rebind(e,i,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id"),e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(p.top="undefined"!=typeof t.top?t.top:p.top,p.right="undefined"!=typeof t.right?t.right:p.right,p.bottom="undefined"!=typeof t.bottom?t.bottom:p.bottom,p.left="undefined"!=typeof t.left?t.left:p.left,e):p},e.width=function(t){return arguments.length?(g=t,e):g},e.height=function(t){return arguments.length?(h=t,e):h},e.color=function(t){return arguments.length?(f=n.utils.getColor(t),u.color(f),e):f},e.rescaleY=function(t){return arguments.length?(A=t,e):A},e.showControls=function(t){return arguments.length?(k=t,e):k},e.useInteractiveGuideline=function(t){return arguments.length?(w=t,!0===t&&(e.interactive(!1),e.useVoronoi(!1)),e):w},e.showLegend=function(t){return arguments.length?(m=t,e):m},e.showXAxis=function(t){return arguments.length?(v=t,e):v},e.showYAxis=function(t){return arguments.length?(y=t,e):y},e.rightAlignYAxis=function(t){return arguments.length?(x=t,s.orient(t?"right":"left"),e):x},e.tooltips=function(t){return arguments.length?(b=t,e):b},e.tooltipContent=function(t){return arguments.length?(S=t,e):S},e.state=function(t){return arguments.length?(M=t,e):M},e.defaultState=function(t){return arguments.length?(D=t,e):D},e.noData=function(t){return arguments.length?(I=t,e):I},e.average=function(t){return arguments.length?(W=t,e):W},e.transitionDuration=function(t){return arguments.length?(F=t,e):F},e},n.models.discreteBar=function(){function e(n){return n.each(function(e){var n=u-s.left-s.right,d=c-s.top-s.bottom,w=t.select(this);e=e.map(function(t,e){return t.values=t.values.map(function(t){return t.series=e,t}),t});var A=r&&a?[]:e.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:h(t,e),y0:t.y0}})});p.domain(r||t.merge(A).map(function(t){return t.x})).rangeBands(o||[0,n],.1),f.domain(a||t.extent(t.merge(A).map(function(t){return t.y}).concat(m))),y?f.range(i||[d-(0>f.domain()[0]?12:0),0<f.domain()[1]?12:0]):f.range(i||[d,0]),l=l||f.copy().range([f(0),f(0)]),n=w.selectAll("g.nv-wrap.nv-discretebar").data([e]),d=n.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g"),n.select("g"),d.append("g").attr("class","nv-groups"),n.attr("transform","translate("+s.left+","+s.top+")"),n=n.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key}),n.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),n.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),n.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),n.transition().style("stroke-opacity",1).style("fill-opacity",.75),n=n.selectAll("g.nv-bar").data(function(t){return t.values}),n.exit().remove(),d=n.enter().append("g").attr("transform",function(t,e){return"translate("+(p(g(t,e))+.05*p.rangeBand())+", "+f(0)+")"}).on("mouseover",function(n,r){t.select(this).classed("hover",!0),b.elementMouseover({value:h(n,r),point:n,series:e[n.series],pos:[p(g(n,r))+p.rangeBand()*(n.series+.5)/e.length,f(h(n,r))],pointIndex:r,seriesIndex:n.series,e:t.event})}).on("mouseout",function(n,r){t.select(this).classed("hover",!1),b.elementMouseout({value:h(n,r),point:n,series:e[n.series],pointIndex:r,seriesIndex:n.series,e:t.event})}).on("click",function(n,r){b.elementClick({value:h(n,r),point:n,series:e[n.series],pos:[p(g(n,r))+p.rangeBand()*(n.series+.5)/e.length,f(h(n,r))],pointIndex:r,seriesIndex:n.series,e:t.event}),t.event.stopPropagation()}).on("dblclick",function(n,r){b.elementDblClick({value:h(n,r),point:n,series:e[n.series],pos:[p(g(n,r))+p.rangeBand()*(n.series+.5)/e.length,f(h(n,r))],pointIndex:r,seriesIndex:n.series,e:t.event}),t.event.stopPropagation()}),d.append("rect").attr("height",0).attr("width",.9*p.rangeBand()/e.length),y?(d.append("text").attr("text-anchor","middle"),n.select("text").text(function(t,e){return x(h(t,e))}).transition().attr("x",.9*p.rangeBand()/2).attr("y",function(t,e){return 0>h(t,e)?f(h(t,e))-f(0)+12:-4})):n.selectAll("text").remove(),n.attr("class",function(t,e){return 0>h(t,e)?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||v(t,e)}).style("stroke",function(t,e){return t.color||v(t,e)}).select("rect").attr("class",k).transition().attr("width",.9*p.rangeBand()/e.length),n.transition().attr("transform",function(t,e){var n=p(g(t,e))+.05*p.rangeBand(),r=0>h(t,e)?f(0):1>f(0)-f(h(t,e))?f(0)-1:f(h(t,e));return"translate("+n+", "+r+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(f(h(t,e))-f(a&&a[0]||0))||1)}),p.copy(),l=f.copy()}),e}var r,a,o,i,l,s={top:0,right:0,bottom:0,left:0},u=960,c=500,d=Math.floor(1e4*Math.random()),p=t.scale.ordinal(),f=t.scale.linear(),g=function(t){return t.x},h=function(t){return t.y},m=[0],v=n.utils.defaultColor(),y=!1,x=t.format(",.2f"),b=t.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),k="discreteBar";return e.dispatch=b,e.options=n.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(g=t,e):g},e.y=function(t){return arguments.length?(h=t,e):h},e.margin=function(t){return arguments.length?(s.top="undefined"!=typeof t.top?t.top:s.top,s.right="undefined"!=typeof t.right?t.right:s.right,s.bottom="undefined"!=typeof t.bottom?t.bottom:s.bottom,s.left="undefined"!=typeof t.left?t.left:s.left,e):s},e.width=function(t){return arguments.length?(u=t,e):u},e.height=function(t){return arguments.length?(c=t,e):c},e.xScale=function(t){return arguments.length?(p=t,e):p},e.yScale=function(t){return arguments.length?(f=t,e):f},e.xDomain=function(t){return arguments.length?(r=t,e):r},e.yDomain=function(t){return arguments.length?(a=t,e):a},e.xRange=function(t){return arguments.length?(o=t,e):o},e.yRange=function(t){return arguments.length?(i=t,e):i},e.forceY=function(t){return arguments.length?(m=t,e):m},e.color=function(t){return arguments.length?(v=n.utils.getColor(t),e):v},e.id=function(t){return arguments.length?(d=t,e):d},e.showValues=function(t){return arguments.length?(y=t,e):y},e.valueFormat=function(t){return arguments.length?(x=t,e):x},e.rectClass=function(t){return arguments.length?(k=t,e):k},e},n.models.discreteBarChart=function(){function e(d){return d.each(function(d){var k=t.select(this),w=this,A=(u||parseInt(k.style("width"))||960)-s.left-s.right,S=(c||parseInt(k.style("height"))||400)-s.top-s.bottom;if(e.update=function(){x.beforeUpdate(),k.transition().duration(b).call(e)},e.container=this,!(d&&d.length&&d.filter(function(t){return t.values.length}).length))return d=k.selectAll(".nv-noData").data([y]),d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),d.attr("x",s.left+A/2).attr("y",s.top+S/2).text(function(t){return t}),e;k.selectAll(".nv-noData").remove(),r=o.xScale(),a=o.yScale().clamp(!0);var C=k.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([d]),M=C.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),D=M.append("defs"),C=C.select("g");M.append("g").attr("class","nv-x nv-axis"),M.append("g").attr("class","nv-y nv-axis"),M.append("g").attr("class","nv-barsWrap"),C.attr("transform","translate("+s.left+","+s.top+")"),g&&C.select(".nv-y.nv-axis").attr("transform","translate("+A+",0)"),o.width(A).height(S),C.select(".nv-barsWrap").datum(d.filter(function(t){return!t.disabled})).transition().call(o),D.append("clipPath").attr("id","nv-x-label-clip-"+o.id()).append("rect"),C.select("#nv-x-label-clip-"+o.id()+" rect").attr("width",r.rangeBand()*(h?2:1)).attr("height",16).attr("x",-r.rangeBand()/(h?1:2)),p&&(i.scale(r).ticks(A/100).tickSize(-S,0),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+(a.range()[0]+(o.showValues()&&0>a.domain()[0]?16:0))+")"),C.select(".nv-x.nv-axis").transition().call(i),d=C.select(".nv-x.nv-axis").selectAll("g"),h&&d.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(0==n%2?"5":"17")+")"})),f&&(l.scale(a).ticks(S/36).tickSize(-A,0),C.select(".nv-y.nv-axis").transition().call(l)),x.on("tooltipShow",function(t){if(m){var r=w.parentNode,a=t.pos[0]+(r.offsetLeft||0),s=t.pos[1]+(r.offsetTop||0),u=i.tickFormat()(o.x()(t.point,t.pointIndex)),c=l.tickFormat()(o.y()(t.point,t.pointIndex)),u=v(t.series.key,u,c,t,e);n.tooltip.show([a,s],u,0>t.value?"n":"s",null,r)}})}),e}var r,a,o=n.models.discreteBar(),i=n.models.axis(),l=n.models.axis(),s={top:15,right:10,bottom:50,left:60},u=null,c=null,d=n.utils.getColor(),p=!0,f=!0,g=!1,h=!1,m=!0,v=function(t,e,n){return"<h3>"+e+"</h3><p>"+n+"</p>"},y="No Data Available.",x=t.dispatch("tooltipShow","tooltipHide","beforeUpdate"),b=250;return i.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),l.orient(g?"right":"left").tickFormat(t.format(",.1f")),o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+s.left,t.pos[1]+s.top],x.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){x.tooltipHide(t)}),x.on("tooltipHide",function(){m&&n.tooltip.cleanup()}),e.dispatch=x,e.discretebar=o,e.xAxis=i,e.yAxis=l,t.rebind(e,o,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat"),e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(s.top="undefined"!=typeof t.top?t.top:s.top,s.right="undefined"!=typeof t.right?t.right:s.right,s.bottom="undefined"!=typeof t.bottom?t.bottom:s.bottom,s.left="undefined"!=typeof t.left?t.left:s.left,e):s},e.width=function(t){return arguments.length?(u=t,e):u},e.height=function(t){return arguments.length?(c=t,e):c},e.color=function(t){return arguments.length?(d=n.utils.getColor(t),o.color(d),e):d},e.showXAxis=function(t){return arguments.length?(p=t,e):p},e.showYAxis=function(t){return arguments.length?(f=t,e):f},e.rightAlignYAxis=function(t){return arguments.length?(g=t,l.orient(t?"right":"left"),e):g},e.staggerLabels=function(t){return arguments.length?(h=t,e):h},e.tooltips=function(t){return arguments.length?(m=t,e):m},e.tooltipContent=function(t){return arguments.length?(v=t,e):v},e.noData=function(t){return arguments.length?(y=t,e):y},e.transitionDuration=function(t){return arguments.length?(b=t,e):b},e},n.models.distribution=function(){function e(n){return n.each(function(e){var n="x"==l?"y":"x",o=t.select(this);r=r||c,e=o.selectAll("g.nv-distribution").data([e]),e.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),o=e.select("g"),e.attr("transform","translate("+a.left+","+a.top+")"),e=o.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key}),e.enter().append("g"),e.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return u(t,e)}),o=e.selectAll("line.nv-dist"+l).data(function(t){return t.values}),o.enter().append("line").attr(l+"1",function(t,e){return r(s(t,e))}).attr(l+"2",function(t,e){return r(s(t,e))}),e.exit().selectAll("line.nv-dist"+l).transition().attr(l+"1",function(t,e){return c(s(t,e))}).attr(l+"2",function(t,e){return c(s(t,e))}).style("stroke-opacity",0).remove(),o.attr("class",function(t,e){return"nv-dist"+l+" nv-dist"+l+"-"+e}).attr(n+"1",0).attr(n+"2",i),o.transition().attr(l+"1",function(t,e){return c(s(t,e))}).attr(l+"2",function(t,e){return c(s(t,e))}),r=c.copy()}),e}var r,a={top:0,right:0,bottom:0,left:0},o=400,i=8,l="x",s=function(t){return t[l]},u=n.utils.defaultColor(),c=t.scale.linear();return e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(a.top="undefined"!=typeof t.top?t.top:a.top,a.right="undefined"!=typeof t.right?t.right:a.right,a.bottom="undefined"!=typeof t.bottom?t.bottom:a.bottom,a.left="undefined"!=typeof t.left?t.left:a.left,e):a},e.width=function(t){return arguments.length?(o=t,e):o},e.axis=function(t){return arguments.length?(l=t,e):l},e.size=function(t){return arguments.length?(i=t,e):i},e.getData=function(n){return arguments.length?(s=t.functor(n),e):s},e.scale=function(t){return arguments.length?(c=t,e):c},e.color=function(t){return arguments.length?(u=n.utils.getColor(t),e):u},e},n.models.historicalBar=function(){function e(w){return w.each(function(e){var w=s-l.left-l.right,A=u-l.top-l.bottom,S=t.select(this);d.domain(r||t.extent(e[0].values.map(f).concat(h))),v?d.range(o||[.5*w/e[0].values.length,w*(e[0].values.length-.5)/e[0].values.length]):d.range(o||[0,w]),p.domain(a||t.extent(e[0].values.map(g).concat(m))).range(i||[A,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),p.domain()[0]===p.domain()[1]&&(p.domain()[0]?p.domain([p.domain()[0]+.01*p.domain()[0],p.domain()[1]-.01*p.domain()[1]]):p.domain([-1,1]));var C=S.selectAll("g.nv-wrap.nv-historicalBar-"+c).data([e[0].values]),M=C.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+c),D=M.append("defs"),M=M.append("g"),I=C.select("g");M.append("g").attr("class","nv-bars"),C.attr("transform","translate("+l.left+","+l.top+")"),S.on("click",function(e,n){b.chartClick({data:e,index:n,pos:t.event,id:c})}),D.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),C.select("#nv-chart-clip-path-"+c+" rect").attr("width",w).attr("height",A),I.attr("clip-path",y?"url(#nv-chart-clip-path-"+c+")":""),A=C.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return f(t,e)}),A.exit().remove(),A.enter().append("rect").attr("x",0).attr("y",function(t,e){return n.utils.NaNtoZero(p(Math.max(0,g(t,e))))}).attr("height",function(t,e){return n.utils.NaNtoZero(Math.abs(p(g(t,e))-p(0)))}).attr("transform",function(t,n){return"translate("+(d(f(t,n))-.45*(w/e[0].values.length))+",0)"}).on("mouseover",function(n,r){k&&(t.select(this).classed("hover",!0),b.elementMouseover({point:n,series:e[0],pos:[d(f(n,r)),p(g(n,r))],pointIndex:r,seriesIndex:0,e:t.event}))}).on("mouseout",function(n,r){k&&(t.select(this).classed("hover",!1),b.elementMouseout({point:n,series:e[0],pointIndex:r,seriesIndex:0,e:t.event}))}).on("click",function(e,n){k&&(b.elementClick({value:g(e,n),data:e,index:n,pos:[d(f(e,n)),p(g(e,n))],e:t.event,id:c}),t.event.stopPropagation())}).on("dblclick",function(e,n){k&&(b.elementDblClick({value:g(e,n),data:e,index:n,pos:[d(f(e,n)),p(g(e,n))],e:t.event,id:c}),t.event.stopPropagation())}),A.attr("fill",function(t,e){return x(t,e)}).attr("class",function(t,e,n){return(0>g(t,e)?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).transition().attr("transform",function(t,n){return"translate("+(d(f(t,n))-.45*(w/e[0].values.length))+",0)"}).attr("width",.9*(w/e[0].values.length)),A.transition().attr("y",function(t,e){var r=0>g(t,e)?p(0):1>p(0)-p(g(t,e))?p(0)-1:p(g(t,e));return n.utils.NaNtoZero(r)}).attr("height",function(t,e){return n.utils.NaNtoZero(Math.max(Math.abs(p(g(t,e))-p(0)),1))})}),e}var r,a,o,i,l={top:0,right:0,bottom:0,left:0},s=960,u=500,c=Math.floor(1e4*Math.random()),d=t.scale.linear(),p=t.scale.linear(),f=function(t){return t.x},g=function(t){return t.y},h=[],m=[0],v=!1,y=!0,x=n.utils.defaultColor(),b=t.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),k=!0;return e.highlightPoint=function(e,n){t.select(".nv-historicalBar-"+c).select(".nv-bars .nv-bar-0-"+e).classed("hover",n)},e.clearHighlights=function(){t.select(".nv-historicalBar-"+c).select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=b,e.options=n.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(f=t,e):f},e.y=function(t){return arguments.length?(g=t,e):g},e.margin=function(t){return arguments.length?(l.top="undefined"!=typeof t.top?t.top:l.top,l.right="undefined"!=typeof t.right?t.right:l.right,l.bottom="undefined"!=typeof t.bottom?t.bottom:l.bottom,l.left="undefined"!=typeof t.left?t.left:l.left,e):l},e.width=function(t){return arguments.length?(s=t,e):s},e.height=function(t){return arguments.length?(u=t,e):u},e.xScale=function(t){return arguments.length?(d=t,e):d},e.yScale=function(t){return arguments.length?(p=t,e):p},e.xDomain=function(t){return arguments.length?(r=t,e):r},e.yDomain=function(t){return arguments.length?(a=t,e):a},e.xRange=function(t){return arguments.length?(o=t,e):o},e.yRange=function(t){return arguments.length?(i=t,e):i},e.forceX=function(t){return arguments.length?(h=t,e):h},e.forceY=function(t){return arguments.length?(m=t,e):m},e.padData=function(t){return arguments.length?(v=t,e):v},e.clipEdge=function(t){return arguments.length?(y=t,e):y},e.color=function(t){return arguments.length?(x=n.utils.getColor(t),e):x},e.id=function(t){return arguments.length?(c=t,e):c},e.interactive=function(){return arguments.length?(k=!1,e):k},e},n.models.historicalBarChart=function(){function e(S){return S.each(function(C){var M=t.select(this),D=this,I=(d||parseInt(M.style("width"))||960)-u.left-u.right,W=(p||parseInt(M.style("height"))||400)-u.top-u.bottom;if(e.update=function(){M.transition().duration(A).call(e)},e.container=this,x.disabled=C.map(function(t){return!!t.disabled}),!b){var z;b={};for(z in x)b[z]=x[z]instanceof Array?x[z].slice(0):x[z]}if(!(C&&C.length&&C.filter(function(t){return t.values.length}).length))return z=M.selectAll(".nv-noData").data([k]),z.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),z.attr("x",u.left+I/2).attr("y",u.top+W/2).text(function(t){return t}),e;M.selectAll(".nv-noData").remove(),r=o.xScale(),a=o.yScale();var F=M.selectAll("g.nv-wrap.nv-historicalBarChart").data([C]);z=F.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g");var N=F.select("g");z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-barsWrap"),z.append("g").attr("class","nv-legendWrap"),f&&(s.width(I),N.select(".nv-legendWrap").datum(C).call(s),u.top!=s.height()&&(u.top=s.height(),W=(p||parseInt(M.style("height"))||400)-u.top-u.bottom),F.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")")),F.attr("transform","translate("+u.left+","+u.top+")"),m&&N.select(".nv-y.nv-axis").attr("transform","translate("+I+",0)"),o.width(I).height(W).color(C.map(function(t,e){return t.color||c(t,e)}).filter(function(t,e){return!C[e].disabled})),N.select(".nv-barsWrap").datum(C.filter(function(t){return!t.disabled})).transition().call(o),g&&(i.scale(r).tickSize(-W,0),N.select(".nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),N.select(".nv-x.nv-axis").transition().call(i)),h&&(l.scale(a).ticks(W/36).tickSize(-I,0),N.select(".nv-y.nv-axis").transition().call(l)),s.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,C.filter(function(t){return!t.disabled}).length||C.map(function(t){return t.disabled=!1,F.selectAll(".nv-series").classed("disabled",!1),t}),x.disabled=C.map(function(t){return!!t.disabled}),w.stateChange(x),S.transition().call(e)}),s.dispatch.on("legendDblclick",function(t){C.forEach(function(t){t.disabled=!0}),t.disabled=!1,x.disabled=C.map(function(t){return!!t.disabled}),w.stateChange(x),e.update()}),w.on("tooltipShow",function(r){if(v){var a=D.parentNode;if(a){var s=t.select(a).select("svg"),u=s.node()?s.attr("viewBox"):null;u&&(u=u.split(" "),s=parseInt(s.style("width"))/u[2],r.pos[0]*=s,r.pos[1]*=s)}var s=r.pos[0]+(a.offsetLeft||0),u=r.pos[1]+(a.offsetTop||0),c=i.tickFormat()(o.x()(r.point,r.pointIndex)),d=l.tickFormat()(o.y()(r.point,r.pointIndex));r=y(r.series.key,c,d,r,e),n.tooltip.show([s,u],r,null,null,a)}}),w.on("changeState",function(t){"undefined"!=typeof t.disabled&&(C.forEach(function(e,n){e.disabled=t.disabled[n]}),x.disabled=t.disabled),S.call(e)})}),e}var r,a,o=n.models.historicalBar(),i=n.models.axis(),l=n.models.axis(),s=n.models.legend(),u={top:30,right:90,bottom:50,left:90},c=n.utils.defaultColor(),d=null,p=null,f=!1,g=!0,h=!0,m=!1,v=!0,y=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},x={},b=null,k="No Data Available.",w=t.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),A=250;return i.orient("bottom").tickPadding(7),l.orient(m?"right":"left"),o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],w.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){w.tooltipHide(t)}),w.on("tooltipHide",function(){v&&n.tooltip.cleanup()}),e.dispatch=w,e.bars=o,e.legend=s,e.xAxis=i,e.yAxis=l,t.rebind(e,o,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive"),e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(u.top="undefined"!=typeof t.top?t.top:u.top,u.right="undefined"!=typeof t.right?t.right:u.right,u.bottom="undefined"!=typeof t.bottom?t.bottom:u.bottom,u.left="undefined"!=typeof t.left?t.left:u.left,e):u},e.width=function(t){return arguments.length?(d=t,e):d},e.height=function(t){return arguments.length?(p=t,e):p},e.color=function(t){return arguments.length?(c=n.utils.getColor(t),s.color(c),e):c},e.showLegend=function(t){return arguments.length?(f=t,e):f},e.showXAxis=function(t){return arguments.length?(g=t,e):g},e.showYAxis=function(t){return arguments.length?(h=t,e):h},e.rightAlignYAxis=function(t){return arguments.length?(m=t,l.orient(t?"right":"left"),e):m},e.tooltips=function(t){return arguments.length?(v=t,e):v},e.tooltipContent=function(t){return arguments.length?(y=t,e):y},e.state=function(t){return arguments.length?(x=t,e):x},e.defaultState=function(t){return arguments.length?(b=t,e):b},e.noData=function(t){return arguments.length?(k=t,e):k},e.transitionDuration=function(t){return arguments.length?(A=t,e):A},e},n.models.indentedTree=function(){function e(n){return n.each(function(n){function r(n,a,o){return t.event.stopPropagation(),t.event.shiftKey&&!o?(t.event.shiftKey=!1,n.values&&n.values.forEach(function(t){(t.values||t._values)&&r(t,0,!0)}),!0):l(n)?(n.values?(n._values=n.values,n.values=null):(n.values=n._values,n._values=null),e.update(),void 0):!0}function a(t){return t._values&&t._values.length?g:t.values&&t.values.length?h:""}function i(t){return t._values&&t._values.length}function l(t){return(t=t.values||t._values)&&t.length}var x=1,b=t.select(this),k=t.layout.tree().children(function(t){return t.values}).size([o,d]);e.update=function(){b.transition().duration(600).call(e)},n[0]||(n[0]={key:c});var x=k.nodes(n[0]),w=t.select(this).selectAll("div").data([[x]]);if(n=w.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree").append("table"),w=w.select("table").attr("width","100%").attr("class",f),s){var A=n.append("thead").append("tr");p.forEach(function(t){A.append("th").attr("width",t.width?t.width:"10%").style("text-align","numeric"==t.type?"right":"left").append("span").text(t.label)})}n=w.selectAll("tbody").data(function(t){return t}),n.enter().append("tbody"),x=t.max(x,function(t){return t.depth}),k.size([o,x*d]);var S=n.selectAll("tr").data(function(t){return t.filter(function(t){return u&&!t.children?u(t):!0})},function(t){return t.id||t.id||++y});S.exit().remove(),S.select("img.nv-treeicon").attr("src",a).classed("folded",i);var C=S.enter().append("tr");p.forEach(function(e,n){var o=C.append("td").style("padding-left",function(t){return(n?0:t.depth*d+12+(a(t)?0:16))+"px"},"important").style("text-align","numeric"==e.type?"right":"left");0==n&&o.append("img").classed("nv-treeicon",!0).classed("nv-folded",i).attr("src",a).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(t){return a(t)?"inline-block":"none"}).on("click",r),o.each(function(r){!n&&v(r)?t.select(this).append("a").attr("href",v).attr("class",t.functor(e.classes)).append("span"):t.select(this).append("span"),t.select(this).select("span").attr("class",t.functor(e.classes)).text(function(t){return e.format?e.format(t):t[e.key]||"-"})}),e.showCount&&(o.append("span").attr("class","nv-childrenCount"),S.selectAll("span.nv-childrenCount").text(function(t){return t.values&&t.values.length||t._values&&t._values.length?"("+(t.values&&t.values.filter(function(t){return u?u(t):!0}).length||t._values&&t._values.filter(function(t){return u?u(t):!0}).length||0)+")":""}))}),S.order().on("click",function(t){m.elementClick({row:this,data:t,pos:[t.x,t.y]})}).on("dblclick",function(t){m.elementDblclick({row:this,data:t,pos:[t.x,t.y]})}).on("mouseover",function(t){m.elementMouseover({row:this,data:t,pos:[t.x,t.y]})}).on("mouseout",function(t){m.elementMouseout({row:this,data:t,pos:[t.x,t.y]})})}),e}var r={top:0,right:0,bottom:0,left:0},a=960,o=500,i=n.utils.defaultColor(),l=Math.floor(1e4*Math.random()),s=!0,u=!1,c="No Data Available.",d=20,p=[{key:"key",label:"Name",type:"text"}],f=null,g="images/grey-plus.png",h="images/grey-minus.png",m=t.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),v=function(t){return t.url},y=0;return e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(r.top="undefined"!=typeof t.top?t.top:r.top,r.right="undefined"!=typeof t.right?t.right:r.right,r.bottom="undefined"!=typeof t.bottom?t.bottom:r.bottom,r.left="undefined"!=typeof t.left?t.left:r.left,e):r},e.width=function(t){return arguments.length?(a=t,e):a},e.height=function(t){return arguments.length?(o=t,e):o},e.color=function(t){return arguments.length?(i=n.utils.getColor(t),scatter.color(i),e):i},e.id=function(t){return arguments.length?(l=t,e):l},e.header=function(t){return arguments.length?(s=t,e):s},e.noData=function(t){return arguments.length?(c=t,e):c},e.filterZero=function(t){return arguments.length?(u=t,e):u},e.columns=function(t){return arguments.length?(p=t,e):p},e.tableClass=function(t){return arguments.length?(f=t,e):f},e.iconOpen=function(t){return arguments.length?(g=t,e):g},e.iconClose=function(t){return arguments.length?(h=t,e):h},e.getUrl=function(t){return arguments.length?(v=t,e):v},e},n.models.legend=function(){function e(f){return f.each(function(e){var f=a-r.left-r.right,g=t.select(this).selectAll("g.nv-legend").data([e]);g.enter().append("g").attr("class","nvd3 nv-legend").append("g");var h=g.select("g");g.attr("transform","translate("+r.left+","+r.top+")");var g=h.selectAll(".nv-series").data(function(t){return t}),m=g.enter().append("g").attr("class","nv-series").on("mouseover",function(t,e){p.legendMouseover(t,e)}).on("mouseout",function(t,e){p.legendMouseout(t,e)}).on("click",function(t,n){p.legendClick(t,n),c&&(d?(e.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,e.every(function(t){return t.disabled})&&e.forEach(function(t){t.disabled=!1})),p.stateChange({disabled:e.map(function(t){return!!t.disabled})}))}).on("dblclick",function(t,n){p.legendDblclick(t,n),c&&(e.forEach(function(t){t.disabled=!0}),t.disabled=!1,p.stateChange({disabled:e.map(function(t){return!!t.disabled})}))});if(m.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),m.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),g.classed("disabled",function(t){return t.disabled}),g.exit().remove(),g.select("circle").style("fill",function(t,e){return t.color||l(t,e)}).style("stroke",function(t,e){return t.color||l(t,e)}),g.select("text").text(i),s){var v=[];g.each(function(){var e,r=t.select(this).select("text");try{e=r.node().getComputedTextLength()}catch(a){e=n.utils.calcApproxTextWidth(r)}v.push(e+28)});for(var y=0,x=0,m=[];f>x&&y<v.length;)m[y]=v[y],x+=v[y++];for(0===y&&(y=1);x>f&&y>1;){for(m=[],y--,x=0;x<v.length;x++)v[x]>(m[x%y]||0)&&(m[x%y]=v[x]);x=m.reduce(function(t,e){return t+e})}for(var b=[],k=f=0;y>f;f++)b[f]=k,k+=m[f];g.attr("transform",function(t,e){return"translate("+b[e%y]+","+(5+20*Math.floor(e/y))+")"}),u?h.attr("transform","translate("+(a-r.right-x)+","+r.top+")"):h.attr("transform","translate(0,"+r.top+")"),o=r.top+r.bottom+20*Math.ceil(v.length/y)}else{var w,A=5,S=5,C=0;g.attr("transform",function(){var e=t.select(this).select("text").node().getComputedTextLength()+28;return w=S,a<r.left+r.right+w+e&&(S=w=5,A+=20),S+=e,S>C&&(C=S),"translate("+w+","+A+")"}),h.attr("transform","translate("+(a-r.right-C)+","+r.top+")"),o=r.top+r.bottom+A+15}}),e}var r={top:5,right:0,bottom:5,left:0},a=400,o=20,i=function(t){return t.key},l=n.utils.defaultColor(),s=!0,u=!0,c=!0,d=!1,p=t.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");return e.dispatch=p,e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(r.top="undefined"!=typeof t.top?t.top:r.top,r.right="undefined"!=typeof t.right?t.right:r.right,r.bottom="undefined"!=typeof t.bottom?t.bottom:r.bottom,r.left="undefined"!=typeof t.left?t.left:r.left,e):r},e.width=function(t){return arguments.length?(a=t,e):a},e.height=function(t){return arguments.length?(o=t,e):o},e.key=function(t){return arguments.length?(i=t,e):i},e.color=function(t){return arguments.length?(l=n.utils.getColor(t),e):l},e.align=function(t){return arguments.length?(s=t,e):s},e.rightAlign=function(t){return arguments.length?(u=t,e):u},e.updateState=function(t){return arguments.length?(c=t,e):c},e.radioButtonMode=function(t){return arguments.length?(d=t,e):d},e},n.models.line=function(){function e(y){return y.each(function(e){var y=l-i.left-i.right,x=s-i.top-i.bottom,b=t.select(this);r=o.xScale(),a=o.yScale(),m=m||r,v=v||a,e=b.selectAll("g.nv-wrap.nv-line").data([e]);var k=e.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),b=k.append("defs"),w=k.append("g"),k=e.select("g");w.append("g").attr("class","nv-groups"),w.append("g").attr("class","nv-scatterWrap"),e.attr("transform","translate("+i.left+","+i.top+")"),o.width(y).height(x),w=e.select(".nv-scatterWrap"),w.transition().call(o),b.append("clipPath").attr("id","nv-edge-clip-"+o.id()).append("rect"),e.select("#nv-edge-clip-"+o.id()+" rect").attr("width",y).attr("height",x),k.attr("clip-path",g?"url(#nv-edge-clip-"+o.id()+")":""),w.attr("clip-path",g?"url(#nv-edge-clip-"+o.id()+")":""),y=e.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key}),y.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),y.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),y.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}),y.transition().style("stroke-opacity",1).style("fill-opacity",.5),x=y.selectAll("path.nv-area").data(function(t){return f(t)?[t]:[]}),x.enter().append("path").attr("class","nv-area").attr("d",function(e){return t.svg.area().interpolate(h).defined(p).x(function(t,e){return n.utils.NaNtoZero(m(c(t,e)))}).y0(function(t,e){return n.utils.NaNtoZero(v(d(t,e)))}).y1(function(){return v(0>=a.domain()[0]?0<=a.domain()[1]?0:a.domain()[1]:a.domain()[0])}).apply(this,[e.values])}),y.exit().selectAll("path.nv-area").remove(),x.transition().attr("d",function(e){return t.svg.area().interpolate(h).defined(p).x(function(t,e){return n.utils.NaNtoZero(r(c(t,e)))}).y0(function(t,e){return n.utils.NaNtoZero(a(d(t,e)))}).y1(function(){return a(0>=a.domain()[0]?0<=a.domain()[1]?0:a.domain()[1]:a.domain()[0])
}).apply(this,[e.values])}),x=y.selectAll("path.nv-line").data(function(t){return[t.values]}),x.enter().append("path").attr("class","nv-line").attr("d",t.svg.line().interpolate(h).defined(p).x(function(t,e){return n.utils.NaNtoZero(m(c(t,e)))}).y(function(t,e){return n.utils.NaNtoZero(v(d(t,e)))})),y.exit().selectAll("path.nv-line").transition().attr("d",t.svg.line().interpolate(h).defined(p).x(function(t,e){return n.utils.NaNtoZero(r(c(t,e)))}).y(function(t,e){return n.utils.NaNtoZero(a(d(t,e)))})),x.transition().attr("d",t.svg.line().interpolate(h).defined(p).x(function(t,e){return n.utils.NaNtoZero(r(c(t,e)))}).y(function(t,e){return n.utils.NaNtoZero(a(d(t,e)))})),m=r.copy(),v=a.copy()}),e}var r,a,o=n.models.scatter(),i={top:0,right:0,bottom:0,left:0},l=960,s=500,u=n.utils.defaultColor(),c=function(t){return t.x},d=function(t){return t.y},p=function(t,e){return!isNaN(d(t,e))&&null!==d(t,e)},f=function(t){return t.area},g=!1,h="linear";o.size(16).sizeDomain([16,256]);var m,v;return e.dispatch=o.dispatch,e.scatter=o,t.rebind(e,o,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights"),e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(i.top="undefined"!=typeof t.top?t.top:i.top,i.right="undefined"!=typeof t.right?t.right:i.right,i.bottom="undefined"!=typeof t.bottom?t.bottom:i.bottom,i.left="undefined"!=typeof t.left?t.left:i.left,e):i},e.width=function(t){return arguments.length?(l=t,e):l},e.height=function(t){return arguments.length?(s=t,e):s},e.x=function(t){return arguments.length?(c=t,o.x(t),e):c},e.y=function(t){return arguments.length?(d=t,o.y(t),e):d},e.clipEdge=function(t){return arguments.length?(g=t,e):g},e.color=function(t){return arguments.length?(u=n.utils.getColor(t),o.color(u),e):u},e.interpolate=function(t){return arguments.length?(h=t,e):h},e.defined=function(t){return arguments.length?(p=t,e):p},e.isArea=function(n){return arguments.length?(f=t.functor(n),e):f},e},n.models.lineChart=function(){function e(M){return M.each(function(M){var D=t.select(this),I=this,W=(p||parseInt(D.style("width"))||960)-c.left-c.right,z=(f||parseInt(D.style("height"))||400)-c.top-c.bottom;if(e.update=function(){D.transition().duration(C).call(e)},e.container=this,k.disabled=M.map(function(t){return!!t.disabled}),!w){var F;w={};for(F in k)w[F]=k[F]instanceof Array?k[F].slice(0):k[F]}if(!(M&&M.length&&M.filter(function(t){return t.values.length}).length))return F=D.selectAll(".nv-noData").data([A]),F.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),F.attr("x",c.left+W/2).attr("y",c.top+z/2).text(function(t){return t}),e;D.selectAll(".nv-noData").remove(),r=o.xScale(),a=o.yScale(),F=D.selectAll("g.nv-wrap.nv-lineChart").data([M]);var N=F.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),B=F.select("g");N.append("rect").style("opacity",0),N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis"),N.append("g").attr("class","nv-linesWrap"),N.append("g").attr("class","nv-legendWrap"),N.append("g").attr("class","nv-interactive"),B.select("rect").attr("width",W).attr("height",z),g&&(s.width(W),B.select(".nv-legendWrap").datum(M).call(s),c.top!=s.height()&&(c.top=s.height(),z=(f||parseInt(D.style("height"))||400)-c.top-c.bottom),F.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")),F.attr("transform","translate("+c.left+","+c.top+")"),v&&B.select(".nv-y.nv-axis").attr("transform","translate("+W+",0)"),y&&(u.width(W).height(z).margin({left:c.left,top:c.top}).svgContainer(D).xScale(r),F.select(".nv-interactive").call(u)),o.width(W).height(z).color(M.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!M[e].disabled})),B.select(".nv-linesWrap").datum(M.filter(function(t){return!t.disabled})).transition().call(o),h&&(i.scale(r).ticks(W/100).tickSize(-z,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),B.select(".nv-x.nv-axis").transition().call(i)),m&&(l.scale(a).ticks(z/36).tickSize(-W,0),B.select(".nv-y.nv-axis").transition().call(l)),s.dispatch.on("stateChange",function(t){k=t,S.stateChange(k),e.update()}),u.dispatch.on("elementMousemove",function(t){o.clearHighlights();var r,a,s,p=[];if(M.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(i,l){a=n.interactiveBisect(i.values,t.pointXValue,e.x()),o.highlightPoint(l,a,!0);var u=i.values[a];"undefined"!=typeof u&&("undefined"==typeof r&&(r=u),"undefined"==typeof s&&(s=e.xScale()(e.x()(u,a))),p.push({key:i.key,value:e.y()(u,a),color:d(i,i.seriesIndex)}))}),2<p.length){var f=e.yScale().invert(t.mouseY),g=.03*Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),f=n.nearestValueIndex(p.map(function(t){return t.value}),f,g);null!==f&&(p[f].highlight=!0)}f=i.tickFormat()(e.x()(r,a)),u.tooltip.position({left:s+c.left,top:t.mouseY+c.top}).chartContainer(I.parentNode).enabled(x).valueFormatter(function(t){return l.tickFormat()(t)}).data({value:f,series:p})(),u.renderGuideLine(s)}),u.dispatch.on("elementMouseout",function(){S.tooltipHide(),o.clearHighlights()}),S.on("tooltipShow",function(t){if(x){var r=I.parentNode,a=t.pos[0]+(r.offsetLeft||0),s=t.pos[1]+(r.offsetTop||0),u=i.tickFormat()(o.x()(t.point,t.pointIndex)),c=l.tickFormat()(o.y()(t.point,t.pointIndex));t=b(t.series.key,u,c,t,e),n.tooltip.show([a,s],t,null,null,r)}}),S.on("changeState",function(t){"undefined"!=typeof t.disabled&&(M.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),e.update()})}),e}var r,a,o=n.models.line(),i=n.models.axis(),l=n.models.axis(),s=n.models.legend(),u=n.interactiveGuideline(),c={top:30,right:20,bottom:50,left:60},d=n.utils.defaultColor(),p=null,f=null,g=!0,h=!0,m=!0,v=!1,y=!1,x=!0,b=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},k={},w=null,A="No Data Available.",S=t.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),C=250;return i.orient("bottom").tickPadding(7),l.orient(v?"right":"left"),o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],S.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),S.on("tooltipHide",function(){x&&n.tooltip.cleanup()}),e.dispatch=S,e.lines=o,e.legend=s,e.xAxis=i,e.yAxis=l,e.interactiveLayer=u,t.rebind(e,o,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate"),e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(c.top="undefined"!=typeof t.top?t.top:c.top,c.right="undefined"!=typeof t.right?t.right:c.right,c.bottom="undefined"!=typeof t.bottom?t.bottom:c.bottom,c.left="undefined"!=typeof t.left?t.left:c.left,e):c},e.width=function(t){return arguments.length?(p=t,e):p},e.height=function(t){return arguments.length?(f=t,e):f},e.color=function(t){return arguments.length?(d=n.utils.getColor(t),s.color(d),e):d},e.showLegend=function(t){return arguments.length?(g=t,e):g},e.showXAxis=function(t){return arguments.length?(h=t,e):h},e.showYAxis=function(t){return arguments.length?(m=t,e):m},e.rightAlignYAxis=function(t){return arguments.length?(v=t,l.orient(t?"right":"left"),e):v},e.useInteractiveGuideline=function(t){return arguments.length?(y=t,!0===t&&(e.interactive(!1),e.useVoronoi(!1)),e):y},e.tooltips=function(t){return arguments.length?(x=t,e):x},e.tooltipContent=function(t){return arguments.length?(b=t,e):b},e.state=function(t){return arguments.length?(k=t,e):k},e.defaultState=function(t){return arguments.length?(w=t,e):w},e.noData=function(t){return arguments.length?(A=t,e):A},e.transitionDuration=function(t){return arguments.length?(C=t,e):C},e},n.models.linePlusBarChart=function(){function e(h){return h.each(function(h){var m=t.select(this),C=this,M=(f||parseInt(m.style("width"))||960)-p.left-p.right,D=(g||parseInt(m.style("height"))||400)-p.top-p.bottom;if(e.update=function(){m.transition().call(e)},k.disabled=h.map(function(t){return!!t.disabled}),!w){var I;w={};for(I in k)w[I]=k[I]instanceof Array?k[I].slice(0):k[I]}if(!(h&&h.length&&h.filter(function(t){return t.values.length}).length))return I=m.selectAll(".nv-noData").data([A]),I.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),I.attr("x",p.left+M/2).attr("y",p.top+D/2).text(function(t){return t}),e;m.selectAll(".nv-noData").remove(),I=h.filter(function(t){return!t.disabled&&t.bar});var W=h.filter(function(t){return!t.bar});r=W.filter(function(t){return!t.disabled}).length&&W.filter(function(t){return!t.disabled})[0].values.length?i.xScale():l.xScale(),a=l.yScale(),o=i.yScale();var z=t.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([h]),F=z.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),N=z.select("g");F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y1 nv-axis"),F.append("g").attr("class","nv-y2 nv-axis"),F.append("g").attr("class","nv-barsWrap"),F.append("g").attr("class","nv-linesWrap"),F.append("g").attr("class","nv-legendWrap"),y&&(d.width(M/2),N.select(".nv-legendWrap").datum(h.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(d),p.top!=d.height()&&(p.top=d.height(),D=(g||parseInt(m.style("height"))||400)-p.top-p.bottom),N.select(".nv-legendWrap").attr("transform","translate("+M/2+","+-p.top+")")),z.attr("transform","translate("+p.left+","+p.top+")"),i.width(M).height(D).color(h.map(function(t,e){return t.color||v(t,e)}).filter(function(t,e){return!h[e].disabled&&!h[e].bar})),l.width(M).height(D).color(h.map(function(t,e){return t.color||v(t,e)}).filter(function(t,e){return!h[e].disabled&&h[e].bar})),z=N.select(".nv-barsWrap").datum(I.length?I:[{values:[]}]),F=N.select(".nv-linesWrap").datum(W[0]&&!W[0].disabled?W:[{values:[]}]),t.transition(z).call(l),t.transition(F).call(i),s.scale(r).ticks(M/100).tickSize(-D,0),N.select(".nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),t.transition(N.select(".nv-x.nv-axis")).call(s),u.scale(a).ticks(D/36).tickSize(-M,0),t.transition(N.select(".nv-y1.nv-axis")).style("opacity",I.length?1:0).call(u),c.scale(o).ticks(D/36).tickSize(I.length?0:-M,0),N.select(".nv-y2.nv-axis").style("opacity",W.length?1:0).attr("transform","translate("+M+",0)"),t.transition(N.select(".nv-y2.nv-axis")).call(c),d.dispatch.on("stateChange",function(t){k=t,S.stateChange(k),e.update()}),S.on("tooltipShow",function(t){if(x){var r=C.parentNode,a=t.pos[0]+(r.offsetLeft||0),o=t.pos[1]+(r.offsetTop||0),l=s.tickFormat()(i.x()(t.point,t.pointIndex)),d=(t.series.bar?u:c).tickFormat()(i.y()(t.point,t.pointIndex)),l=b(t.series.key,l,d,t,e);n.tooltip.show([a,o],l,0>t.value?"n":"s",null,r)}}),S.on("changeState",function(t){"undefined"!=typeof t.disabled&&(h.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),e.update()})}),e}var r,a,o,i=n.models.line(),l=n.models.historicalBar(),s=n.models.axis(),u=n.models.axis(),c=n.models.axis(),d=n.models.legend(),p={top:30,right:60,bottom:50,left:60},f=null,g=null,h=function(t){return t.x},m=function(t){return t.y},v=n.utils.defaultColor(),y=!0,x=!0,b=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},k={},w=null,A="No Data Available.",S=t.dispatch("tooltipShow","tooltipHide","stateChange","changeState");return l.padData(!0),i.clipEdge(!1).padData(!0),s.orient("bottom").tickPadding(7).highlightZero(!1),u.orient("left"),c.orient("right"),i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+p.left,t.pos[1]+p.top],S.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),l.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+p.left,t.pos[1]+p.top],S.tooltipShow(t)}),l.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),S.on("tooltipHide",function(){x&&n.tooltip.cleanup()}),e.dispatch=S,e.legend=d,e.lines=i,e.bars=l,e.xAxis=s,e.y1Axis=u,e.y2Axis=c,t.rebind(e,i,"defined","size","clipVoronoi","interpolate"),e.options=n.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(h=t,i.x(t),l.x(t),e):h},e.y=function(t){return arguments.length?(m=t,i.y(t),l.y(t),e):m},e.margin=function(t){return arguments.length?(p.top="undefined"!=typeof t.top?t.top:p.top,p.right="undefined"!=typeof t.right?t.right:p.right,p.bottom="undefined"!=typeof t.bottom?t.bottom:p.bottom,p.left="undefined"!=typeof t.left?t.left:p.left,e):p},e.width=function(t){return arguments.length?(f=t,e):f},e.height=function(t){return arguments.length?(g=t,e):g},e.color=function(t){return arguments.length?(v=n.utils.getColor(t),d.color(v),e):v},e.showLegend=function(t){return arguments.length?(y=t,e):y},e.tooltips=function(t){return arguments.length?(x=t,e):x},e.tooltipContent=function(t){return arguments.length?(b=t,e):b},e.state=function(t){return arguments.length?(k=t,e):k},e.defaultState=function(t){return arguments.length?(w=t,e):w},e.noData=function(t){return arguments.length?(A=t,e):A},e},n.models.lineWithFocusChart=function(){function e(I){return I.each(function(I){function W(){g.empty()||g.extent(w),E.data([g.empty()?o.domain():w]).each(function(e){var n=o(e[0])-r.range()[0],a=r.range()[1]-o(e[1]);t.select(this).select(".left").attr("width",0>n?0:n),t.select(this).select(".right").attr("x",o(e[1])).attr("width",0>a?0:a)})}function z(){w=g.empty()?null:g.extent();var t=g.empty()?o.domain():g.extent();1>=Math.abs(t[0]-t[1])||(M.brush({extent:t,brush:g}),W(),Y.select(".nv-focus .nv-linesWrap").datum(I.filter(function(t){return!t.disabled}).map(function(e){return{key:e.key,values:e.values.filter(function(e,n){return l.x()(e,n)>=t[0]&&l.x()(e,n)<=t[1]})}})).transition().duration(D).call(l),Y.select(".nv-focus .nv-x.nv-axis").transition().duration(D).call(u),Y.select(".nv-focus .nv-y.nv-axis").transition().duration(D).call(c))}var F=t.select(this),N=this,B=(y||parseInt(F.style("width"))||960)-h.left-h.right,L=(x||parseInt(F.style("height"))||400)-h.top-h.bottom-b,H=b-m.top-m.bottom;if(e.update=function(){F.transition().duration(D).call(e)},e.container=this,!(I&&I.length&&I.filter(function(t){return t.values.length}).length)){var P=F.selectAll(".nv-noData").data([C]);return P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),P.attr("x",h.left+B/2).attr("y",h.top+L/2).text(function(t){return t}),e}F.selectAll(".nv-noData").remove(),r=l.xScale(),a=l.yScale(),o=s.xScale(),i=s.yScale();var P=F.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([I]),T=P.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),Y=P.select("g");T.append("g").attr("class","nv-legendWrap");var R=T.append("g").attr("class","nv-focus");R.append("g").attr("class","nv-x nv-axis"),R.append("g").attr("class","nv-y nv-axis"),R.append("g").attr("class","nv-linesWrap"),T=T.append("g").attr("class","nv-context"),T.append("g").attr("class","nv-x nv-axis"),T.append("g").attr("class","nv-y nv-axis"),T.append("g").attr("class","nv-linesWrap"),T.append("g").attr("class","nv-brushBackground"),T.append("g").attr("class","nv-x nv-brush"),k&&(f.width(B),Y.select(".nv-legendWrap").datum(I).call(f),h.top!=f.height()&&(h.top=f.height(),L=(x||parseInt(F.style("height"))||400)-h.top-h.bottom-b),Y.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")")),P.attr("transform","translate("+h.left+","+h.top+")"),l.width(B).height(L).color(I.map(function(t,e){return t.color||v(t,e)}).filter(function(t,e){return!I[e].disabled})),s.defined(l.defined()).width(B).height(H).color(I.map(function(t,e){return t.color||v(t,e)}).filter(function(t,e){return!I[e].disabled})),Y.select(".nv-context").attr("transform","translate(0,"+(L+h.bottom+m.top)+")"),P=Y.select(".nv-context .nv-linesWrap").datum(I.filter(function(t){return!t.disabled})),t.transition(P).call(s),u.scale(r).ticks(B/100).tickSize(-L,0),c.scale(a).ticks(L/36).tickSize(-B,0),Y.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+L+")"),g.x(o).on("brush",function(){var t=e.transitionDuration();e.transitionDuration(0),z(),e.transitionDuration(t)}),w&&g.extent(w);var E=Y.select(".nv-brushBackground").selectAll("g").data([w||g.extent()]),L=E.enter().append("g");L.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",H),L.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",H),L=Y.select(".nv-x.nv-brush").call(g),L.selectAll("rect").attr("height",H),L.selectAll(".resize").append("path").attr("d",function(t){var e=(t=+("e"==t))?1:-1,n=H/3;return"M"+.5*e+","+n+"A6,6 0 0 "+t+" "+6.5*e+","+(n+6)+"V"+(2*n-6)+"A6,6 0 0 "+t+" "+.5*e+","+2*n+"ZM"+2.5*e+","+(n+8)+"V"+(2*n-8)+"M"+4.5*e+","+(n+8)+"V"+(2*n-8)}),z(),d.scale(o).ticks(B/100).tickSize(-H,0),Y.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),t.transition(Y.select(".nv-context .nv-x.nv-axis")).call(d),p.scale(i).ticks(H/36).tickSize(-B,0),t.transition(Y.select(".nv-context .nv-y.nv-axis")).call(p),Y.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),f.dispatch.on("stateChange",function(){e.update()}),M.on("tooltipShow",function(t){if(A){var r=N.parentNode,a=t.pos[0]+(r.offsetLeft||0),o=t.pos[1]+(r.offsetTop||0),i=u.tickFormat()(l.x()(t.point,t.pointIndex)),s=c.tickFormat()(l.y()(t.point,t.pointIndex));t=S(t.series.key,i,s,t,e),n.tooltip.show([a,o],t,null,null,r)}})}),e}var r,a,o,i,l=n.models.line(),s=n.models.line(),u=n.models.axis(),c=n.models.axis(),d=n.models.axis(),p=n.models.axis(),f=n.models.legend(),g=t.svg.brush(),h={top:30,right:30,bottom:30,left:60},m={top:0,right:30,bottom:20,left:60},v=n.utils.defaultColor(),y=null,x=null,b=100,k=!0,w=null,A=!0,S=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},C="No Data Available.",M=t.dispatch("tooltipShow","tooltipHide","brush"),D=250;return l.clipEdge(!0),s.interactive(!1),u.orient("bottom").tickPadding(5),c.orient("left"),d.orient("bottom").tickPadding(5),p.orient("left"),l.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+h.left,t.pos[1]+h.top],M.tooltipShow(t)}),l.dispatch.on("elementMouseout.tooltip",function(t){M.tooltipHide(t)}),M.on("tooltipHide",function(){A&&n.tooltip.cleanup()}),e.dispatch=M,e.legend=f,e.lines=l,e.lines2=s,e.xAxis=u,e.yAxis=c,e.x2Axis=d,e.y2Axis=p,t.rebind(e,l,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id"),e.options=n.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(l.x(t),s.x(t),e):l.x},e.y=function(t){return arguments.length?(l.y(t),s.y(t),e):l.y},e.margin=function(t){return arguments.length?(h.top="undefined"!=typeof t.top?t.top:h.top,h.right="undefined"!=typeof t.right?t.right:h.right,h.bottom="undefined"!=typeof t.bottom?t.bottom:h.bottom,h.left="undefined"!=typeof t.left?t.left:h.left,e):h},e.margin2=function(t){return arguments.length?(m=t,e):m},e.width=function(t){return arguments.length?(y=t,e):y},e.height=function(t){return arguments.length?(x=t,e):x},e.height2=function(t){return arguments.length?(b=t,e):b},e.color=function(t){return arguments.length?(v=n.utils.getColor(t),f.color(v),e):v},e.showLegend=function(t){return arguments.length?(k=t,e):k},e.tooltips=function(t){return arguments.length?(A=t,e):A},e.tooltipContent=function(t){return arguments.length?(S=t,e):S},e.interpolate=function(t){return arguments.length?(l.interpolate(t),s.interpolate(t),e):l.interpolate()},e.noData=function(t){return arguments.length?(C=t,e):C},e.xTickFormat=function(t){return arguments.length?(u.tickFormat(t),d.tickFormat(t),e):u.tickFormat()},e.yTickFormat=function(t){return arguments.length?(c.tickFormat(t),p.tickFormat(t),e):c.tickFormat()},e.brushExtent=function(t){return arguments.length?(w=t,e):w},e.transitionDuration=function(t){return arguments.length?(D=t,e):D},e},n.models.linePlusBarWithFocusChart=function(){function e(T){return T.each(function(T){function Y(){k.empty()||k.extent(F),$.data([k.empty()?o.domain():F]).each(function(e){var n=o(e[0])-o.range()[0],r=o.range()[1]-o(e[1]);t.select(this).select(".left").attr("width",0>n?0:n),t.select(this).select(".right").attr("x",o(e[1])).attr("width",0>r?0:r)})}function R(){F=k.empty()?null:k.extent(),r=k.empty()?o.domain():k.extent(),H.brush({extent:r,brush:k}),Y(),p.width(_).height(X).color(T.map(function(t,e){return t.color||W(t,e)}).filter(function(t,e){return!T[e].disabled&&T[e].bar})),c.width(_).height(X).color(T.map(function(t,e){return t.color||W(t,e)}).filter(function(t,e){return!T[e].disabled&&!T[e].bar}));var t=q.select(".nv-focus .nv-barsWrap").datum(O.length?O.map(function(t){return{key:t.key,values:t.values.filter(function(t,e){return p.x()(t,e)>=r[0]&&p.x()(t,e)<=r[1]})}}):[{values:[]}]),e=q.select(".nv-focus .nv-linesWrap").datum(K[0].disabled?[{values:[]}]:K.map(function(t){return{key:t.key,values:t.values.filter(function(t,e){return c.x()(t,e)>=r[0]&&c.x()(t,e)<=r[1]})}}));a=O.length?p.xScale():c.xScale(),g.scale(a).ticks(_/100).tickSize(-X,0),g.domain([Math.ceil(r[0]),Math.floor(r[1])]),q.select(".nv-x.nv-axis").transition().duration(P).call(g),t.transition().duration(P).call(p),e.transition().duration(P).call(c),q.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),m.scale(i).ticks(X/36).tickSize(-_,0),q.select(".nv-focus .nv-y1.nv-axis").style("opacity",O.length?1:0),v.scale(l).ticks(X/36).tickSize(O.length?0:-_,0),q.select(".nv-focus .nv-y2.nv-axis").style("opacity",K.length?1:0).attr("transform","translate("+a.range()[1]+",0)"),q.select(".nv-focus .nv-y1.nv-axis").transition().duration(P).call(m),q.select(".nv-focus .nv-y2.nv-axis").transition().duration(P).call(v)}var E=t.select(this),V=this,_=(S||parseInt(E.style("width"))||960)-w.left-w.right,X=(C||parseInt(E.style("height"))||400)-w.top-w.bottom-M,Z=M-A.top-A.bottom;if(e.update=function(){E.transition().duration(P).call(e)},e.container=this,!(T&&T.length&&T.filter(function(t){return t.values.length}).length)){var G=E.selectAll(".nv-noData").data([L]);return G.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),G.attr("x",w.left+_/2).attr("y",w.top+X/2).text(function(t){return t}),e}E.selectAll(".nv-noData").remove();var O=T.filter(function(t){return!t.disabled&&t.bar}),K=T.filter(function(t){return!t.bar});a=p.xScale(),o=h.scale(),i=p.yScale(),l=c.yScale(),s=f.yScale(),u=d.yScale();var G=T.filter(function(t){return!t.disabled&&t.bar}).map(function(t){return t.values.map(function(t,e){return{x:D(t,e),y:I(t,e)}})}),j=T.filter(function(t){return!t.disabled&&!t.bar}).map(function(t){return t.values.map(function(t,e){return{x:D(t,e),y:I(t,e)}})});a.range([0,_]),o.domain(t.extent(t.merge(G.concat(j)),function(t){return t.x})).range([0,_]);var G=E.selectAll("g.nv-wrap.nv-linePlusBar").data([T]),j=G.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),q=G.select("g");j.append("g").attr("class","nv-legendWrap");var U=j.append("g").attr("class","nv-focus");U.append("g").attr("class","nv-x nv-axis"),U.append("g").attr("class","nv-y1 nv-axis"),U.append("g").attr("class","nv-y2 nv-axis"),U.append("g").attr("class","nv-barsWrap"),U.append("g").attr("class","nv-linesWrap"),j=j.append("g").attr("class","nv-context"),j.append("g").attr("class","nv-x nv-axis"),j.append("g").attr("class","nv-y1 nv-axis"),j.append("g").attr("class","nv-y2 nv-axis"),j.append("g").attr("class","nv-barsWrap"),j.append("g").attr("class","nv-linesWrap"),j.append("g").attr("class","nv-brushBackground"),j.append("g").attr("class","nv-x nv-brush"),z&&(b.width(_/2),q.select(".nv-legendWrap").datum(T.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(b),w.top!=b.height()&&(w.top=b.height(),X=(C||parseInt(E.style("height"))||400)-w.top-w.bottom-M),q.select(".nv-legendWrap").attr("transform","translate("+_/2+","+-w.top+")")),G.attr("transform","translate("+w.left+","+w.top+")"),f.width(_).height(Z).color(T.map(function(t,e){return t.color||W(t,e)}).filter(function(t,e){return!T[e].disabled&&T[e].bar})),d.width(_).height(Z).color(T.map(function(t,e){return t.color||W(t,e)}).filter(function(t,e){return!T[e].disabled&&!T[e].bar})),G=q.select(".nv-context .nv-barsWrap").datum(O.length?O:[{values:[]}]),j=q.select(".nv-context .nv-linesWrap").datum(K[0].disabled?[{values:[]}]:K),q.select(".nv-context").attr("transform","translate(0,"+(X+w.bottom+A.top)+")"),G.transition().call(f),j.transition().call(d),k.x(o).on("brush",R),F&&k.extent(F);var $=q.select(".nv-brushBackground").selectAll("g").data([F||k.extent()]),G=$.enter().append("g");G.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",Z),G.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",Z),G=q.select(".nv-x.nv-brush").call(k),G.selectAll("rect").attr("height",Z),G.selectAll(".resize").append("path").attr("d",function(t){var e=(t=+("e"==t))?1:-1,n=Z/3;return"M"+.5*e+","+n+"A6,6 0 0 "+t+" "+6.5*e+","+(n+6)+"V"+(2*n-6)+"A6,6 0 0 "+t+" "+.5*e+","+2*n+"ZM"+2.5*e+","+(n+8)+"V"+(2*n-8)+"M"+4.5*e+","+(n+8)+"V"+(2*n-8)}),h.ticks(_/100).tickSize(-Z,0),q.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")"),q.select(".nv-context .nv-x.nv-axis").transition().call(h),y.scale(s).ticks(Z/36).tickSize(-_,0),q.select(".nv-context .nv-y1.nv-axis").style("opacity",O.length?1:0).attr("transform","translate(0,"+o.range()[0]+")"),q.select(".nv-context .nv-y1.nv-axis").transition().call(y),x.scale(u).ticks(Z/36).tickSize(O.length?0:-_,0),q.select(".nv-context .nv-y2.nv-axis").style("opacity",K.length?1:0).attr("transform","translate("+o.range()[1]+",0)"),q.select(".nv-context .nv-y2.nv-axis").transition().call(x),b.dispatch.on("stateChange",function(){e.update()}),H.on("tooltipShow",function(t){if(N){var a=V.parentNode;r&&(t.pointIndex+=Math.ceil(r[0]));var o=t.pos[0]+(a.offsetLeft||0),i=t.pos[1]+(a.offsetTop||0),l=g.tickFormat()(c.x()(t.point,t.pointIndex)),s=(t.series.bar?m:v).tickFormat()(c.y()(t.point,t.pointIndex)),l=B(t.series.key,l,s,t,e);n.tooltip.show([o,i],l,0>t.value?"n":"s",null,a)}}),R()}),e}var r,a,o,i,l,s,u,c=n.models.line(),d=n.models.line(),p=n.models.historicalBar(),f=n.models.historicalBar(),g=n.models.axis(),h=n.models.axis(),m=n.models.axis(),v=n.models.axis(),y=n.models.axis(),x=n.models.axis(),b=n.models.legend(),k=t.svg.brush(),w={top:30,right:30,bottom:30,left:60},A={top:0,right:30,bottom:20,left:60},S=null,C=null,M=100,D=function(t){return t.x},I=function(t){return t.y},W=n.utils.defaultColor(),z=!0,F=null,N=!0,B=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},L="No Data Available.",H=t.dispatch("tooltipShow","tooltipHide","brush"),P=0;return c.clipEdge(!0),d.interactive(!1),g.orient("bottom").tickPadding(5),m.orient("left"),v.orient("right"),h.orient("bottom").tickPadding(5),y.orient("left"),x.orient("right"),c.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+w.left,t.pos[1]+w.top],H.tooltipShow(t)}),c.dispatch.on("elementMouseout.tooltip",function(t){H.tooltipHide(t)}),p.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+w.left,t.pos[1]+w.top],H.tooltipShow(t)}),p.dispatch.on("elementMouseout.tooltip",function(t){H.tooltipHide(t)}),H.on("tooltipHide",function(){N&&n.tooltip.cleanup()}),e.dispatch=H,e.legend=b,e.lines=c,e.lines2=d,e.bars=p,e.bars2=f,e.xAxis=g,e.x2Axis=h,e.y1Axis=m,e.y2Axis=v,e.y3Axis=y,e.y4Axis=x,t.rebind(e,c,"defined","size","clipVoronoi","interpolate"),e.options=n.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(D=t,c.x(t),p.x(t),e):D},e.y=function(t){return arguments.length?(I=t,c.y(t),p.y(t),e):I},e.margin=function(t){return arguments.length?(w.top="undefined"!=typeof t.top?t.top:w.top,w.right="undefined"!=typeof t.right?t.right:w.right,w.bottom="undefined"!=typeof t.bottom?t.bottom:w.bottom,w.left="undefined"!=typeof t.left?t.left:w.left,e):w},e.width=function(t){return arguments.length?(S=t,e):S},e.height=function(t){return arguments.length?(C=t,e):C},e.color=function(t){return arguments.length?(W=n.utils.getColor(t),b.color(W),e):W},e.showLegend=function(t){return arguments.length?(z=t,e):z},e.tooltips=function(t){return arguments.length?(N=t,e):N},e.tooltipContent=function(t){return arguments.length?(B=t,e):B},e.noData=function(t){return arguments.length?(L=t,e):L},e.brushExtent=function(t){return arguments.length?(F=t,e):F},e},n.models.multiBar=function(){function e(n){return n.each(function(e){var n=c-u.left-u.right,D=d-u.top-u.bottom,I=t.select(this);w&&e.length&&(w=[{values:e[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),x&&(e=t.layout.stack().offset(b).values(function(t){return t.values}).y(m)(!e.length&&w?w:e)),e=e.map(function(t,e){return t.values=t.values.map(function(t){return t.series=e,t}),t}),x&&e[0].values.map(function(t,n){var r=0,a=0;e.map(function(t){t=t.values[n],t.size=Math.abs(t.y),0>t.y?(t.y1=a,a-=t.size):(t.y1=t.size+r,r+=t.size)})});var W=a&&o?[]:e.map(function(t){return t.values.map(function(t,e){return{x:h(t,e),y:m(t,e),y0:t.y0,y1:t.y1}})});p.domain(a||t.merge(W).map(function(t){return t.x})).rangeBands(i||[0,n],C),f.domain(o||t.extent(t.merge(W).map(function(t){return x?0<t.y?t.y1:t.y1+t.y:t.y}).concat(v))).range(l||[D,0]),p.domain()[0]===p.domain()[1]&&(p.domain()[0]?p.domain([p.domain()[0]-.01*p.domain()[0],p.domain()[1]+.01*p.domain()[1]]):p.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1])),s=s||f;var I=I.selectAll("g.nv-wrap.nv-multibar").data([e]),z=I.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),W=z.append("defs"),z=z.append("g"),F=I.select("g");z.append("g").attr("class","nv-groups"),I.attr("transform","translate("+u.left+","+u.top+")"),W.append("clipPath").attr("id","nv-edge-clip-"+g).append("rect"),I.select("#nv-edge-clip-"+g+" rect").attr("width",n).attr("height",D),F.attr("clip-path",y?"url(#nv-edge-clip-"+g+")":""),n=I.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e}),n.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),n.exit().transition().selectAll("rect.nv-bar").delay(function(t,n){return n*S/e[0].values.length}).attr("y",function(t){return x?s(t.y0):s(0)}).attr("height",0).remove(),n.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return k(t,e)}).style("stroke",function(t,e){return k(t,e)}),n.transition().style("stroke-opacity",1).style("fill-opacity",.75),n=n.selectAll("rect.nv-bar").data(function(t){return w&&!e.length?w.values:t.values}),n.exit().remove(),n.enter().append("rect").attr("class",function(t,e){return 0>m(t,e)?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,n,r){return x?0:r*p.rangeBand()/e.length}).attr("y",function(t){return s(x?t.y0:0)}).attr("height",0).attr("width",p.rangeBand()/(x?1:e.length)).attr("transform",function(t,e){return"translate("+p(h(t,e))+",0)"}),n.style("fill",function(t,e,n){return k(t,n,e)}).style("stroke",function(t,e,n){return k(t,n,e)}).on("mouseover",function(n,r){t.select(this).classed("hover",!0),M.elementMouseover({value:m(n,r),point:n,series:e[n.series],pos:[p(h(n,r))+p.rangeBand()*(x?e.length/2:n.series+.5)/e.length,f(m(n,r)+(x?n.y0:0))],pointIndex:r,seriesIndex:n.series,e:t.event})}).on("mouseout",function(n,r){t.select(this).classed("hover",!1),M.elementMouseout({value:m(n,r),point:n,series:e[n.series],pointIndex:r,seriesIndex:n.series,e:t.event})}).on("click",function(n,r){M.elementClick({value:m(n,r),point:n,series:e[n.series],pos:[p(h(n,r))+p.rangeBand()*(x?e.length/2:n.series+.5)/e.length,f(m(n,r)+(x?n.y0:0))],pointIndex:r,seriesIndex:n.series,e:t.event}),t.event.stopPropagation()
}).on("dblclick",function(n,r){M.elementDblClick({value:m(n,r),point:n,series:e[n.series],pos:[p(h(n,r))+p.rangeBand()*(x?e.length/2:n.series+.5)/e.length,f(m(n,r)+(x?n.y0:0))],pointIndex:r,seriesIndex:n.series,e:t.event}),t.event.stopPropagation()}),n.attr("class",function(t,e){return 0>m(t,e)?"nv-bar negative":"nv-bar positive"}).transition().attr("transform",function(t,e){return"translate("+p(h(t,e))+",0)"}),A&&(r||(r=e.map(function(){return!0})),n.style("fill",function(e,n,a){return t.rgb(A(e,n)).darker(r.map(function(t,e){return e}).filter(function(t,e){return!r[e]})[a]).toString()}).style("stroke",function(e,n,a){return t.rgb(A(e,n)).darker(r.map(function(t,e){return e}).filter(function(t,e){return!r[e]})[a]).toString()})),x?n.transition().delay(function(t,n){return n*S/e[0].values.length}).attr("y",function(t){return f(x?t.y1:0)}).attr("height",function(t){return Math.max(Math.abs(f(t.y+(x?t.y0:0))-f(x?t.y0:0)),1)}).attr("x",function(t){return x?0:t.series*p.rangeBand()/e.length}).attr("width",p.rangeBand()/(x?1:e.length)):n.transition().delay(function(t,n){return n*S/e[0].values.length}).attr("x",function(t){return t.series*p.rangeBand()/e.length}).attr("width",p.rangeBand()/e.length).attr("y",function(t,e){return 0>m(t,e)?f(0):1>f(0)-f(m(t,e))?f(0)-1:f(m(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(f(m(t,e))-f(0)),1)||0}),p.copy(),s=f.copy()}),e}var r,a,o,i,l,s,u={top:0,right:0,bottom:0,left:0},c=960,d=500,p=t.scale.ordinal(),f=t.scale.linear(),g=Math.floor(1e4*Math.random()),h=function(t){return t.x},m=function(t){return t.y},v=[0],y=!0,x=!1,b="zero",k=n.utils.defaultColor(),w=!1,A=null,S=1200,C=.1,M=t.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return e.dispatch=M,e.options=n.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(h=t,e):h},e.y=function(t){return arguments.length?(m=t,e):m},e.margin=function(t){return arguments.length?(u.top="undefined"!=typeof t.top?t.top:u.top,u.right="undefined"!=typeof t.right?t.right:u.right,u.bottom="undefined"!=typeof t.bottom?t.bottom:u.bottom,u.left="undefined"!=typeof t.left?t.left:u.left,e):u},e.width=function(t){return arguments.length?(c=t,e):c},e.height=function(t){return arguments.length?(d=t,e):d},e.xScale=function(t){return arguments.length?(p=t,e):p},e.yScale=function(t){return arguments.length?(f=t,e):f},e.xDomain=function(t){return arguments.length?(a=t,e):a},e.yDomain=function(t){return arguments.length?(o=t,e):o},e.xRange=function(t){return arguments.length?(i=t,e):i},e.yRange=function(t){return arguments.length?(l=t,e):l},e.forceY=function(t){return arguments.length?(v=t,e):v},e.stacked=function(t){return arguments.length?(x=t,e):x},e.stackOffset=function(t){return arguments.length?(b=t,e):b},e.clipEdge=function(t){return arguments.length?(y=t,e):y},e.color=function(t){return arguments.length?(k=n.utils.getColor(t),e):k},e.barColor=function(t){return arguments.length?(A=n.utils.getColor(t),e):A},e.disabled=function(t){return arguments.length?(r=t,e):r},e.id=function(t){return arguments.length?(g=t,e):g},e.hideable=function(t){return arguments.length?(w=t,e):w},e.delay=function(t){return arguments.length?(S=t,e):S},e.groupSpacing=function(t){return arguments.length?(C=t,e):C},e},n.models.multiBarChart=function(){function e(W){return W.each(function(W){var z=t.select(this),F=this,N=(d||parseInt(z.style("width"))||960)-c.left-c.right,B=(p||parseInt(z.style("height"))||400)-c.top-c.bottom;if(e.update=function(){z.transition().duration(I).call(e)},e.container=this,S.disabled=W.map(function(t){return!!t.disabled}),!C){var L;C={};for(L in S)C[L]=S[L]instanceof Array?S[L].slice(0):S[L]}if(!(W&&W.length&&W.filter(function(t){return t.values.length}).length))return L=z.selectAll(".nv-noData").data([M]),L.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),L.attr("x",c.left+N/2).attr("y",c.top+B/2).text(function(t){return t}),e;z.selectAll(".nv-noData").remove(),r=o.xScale(),a=o.yScale();var H=z.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([W]),P=H.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");if(L=H.select("g"),P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-barsWrap"),P.append("g").attr("class","nv-legendWrap"),P.append("g").attr("class","nv-controlsWrap"),h&&(s.width(N-(g?180:0)),o.barColor()&&W.forEach(function(e,n){e.color=t.rgb("#ccc").darker(1.5*n).toString()}),L.select(".nv-legendWrap").datum(W).call(s),c.top!=s.height()&&(c.top=s.height(),B=(p||parseInt(z.style("height"))||400)-c.top-c.bottom),L.select(".nv-legendWrap").attr("transform","translate("+(g?180:0)+","+-c.top+")")),g){var T=[{key:"Grouped",disabled:o.stacked()},{key:"Stacked",disabled:!o.stacked()}];u.width(g?180:0).color(["#444","#444","#444"]),L.select(".nv-controlsWrap").datum(T).attr("transform","translate(0,"+-c.top+")").call(u)}if(H.attr("transform","translate("+c.left+","+c.top+")"),y&&L.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)"),o.disabled(W.map(function(t){return t.disabled})).width(N).height(B).color(W.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!W[e].disabled})),L.select(".nv-barsWrap").datum(W.filter(function(t){return!t.disabled})).transition().call(o),m){if(i.scale(r).ticks(N/100).tickSize(-B,0),L.select(".nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),L.select(".nv-x.nv-axis").transition().call(i),H=L.select(".nv-x.nv-axis > g").selectAll("g"),H.selectAll("line, text").style("opacity",1),b){H.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(0==n%2?5:17)+")"});var Y=t.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;L.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return"translate(0,"+(0===e||0!==Y%2?17:5)+")"})}x&&H.filter(function(t,e){return 0!==e%Math.ceil(W[0].values.length/(N/100))}).selectAll("text, line").style("opacity",0),k&&H.selectAll(".tick text").attr("transform","rotate("+k+" 0,0)").style("text-anchor",k>0?"start":"end"),L.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}v&&(l.scale(a).ticks(B/36).tickSize(-N,0),L.select(".nv-y.nv-axis").transition().call(l)),s.dispatch.on("stateChange",function(t){S=t,D.stateChange(S),e.update()}),u.dispatch.on("legendClick",function(t){if(t.disabled){switch(T=T.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":o.stacked(!1);break;case"Stacked":o.stacked(!0)}S.stacked=o.stacked(),D.stateChange(S),e.update()}}),D.on("tooltipShow",function(t){if(w){var r=F.parentNode,a=t.pos[0]+(r.offsetLeft||0),s=t.pos[1]+(r.offsetTop||0),u=i.tickFormat()(o.x()(t.point,t.pointIndex)),c=l.tickFormat()(o.y()(t.point,t.pointIndex)),u=A(t.series.key,u,c,t,e);n.tooltip.show([a,s],u,0>t.value?"n":"s",null,r)}}),D.on("changeState",function(t){"undefined"!=typeof t.disabled&&(W.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),"undefined"!=typeof t.stacked&&(o.stacked(t.stacked),S.stacked=t.stacked),e.update()})}),e}var r,a,o=n.models.multiBar(),i=n.models.axis(),l=n.models.axis(),s=n.models.legend(),u=n.models.legend(),c={top:30,right:20,bottom:50,left:60},d=null,p=null,f=n.utils.defaultColor(),g=!0,h=!0,m=!0,v=!0,y=!1,x=!0,b=!1,k=0,w=!0,A=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},S={stacked:!1},C=null,M="No Data Available.",D=t.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),I=250;return o.stacked(!1),i.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(t){return t}),l.orient(y?"right":"left").tickFormat(t.format(",.1f")),u.updateState(!1),o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],D.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t)}),D.on("tooltipHide",function(){w&&n.tooltip.cleanup()}),e.dispatch=D,e.multibar=o,e.legend=s,e.xAxis=i,e.yAxis=l,t.rebind(e,o,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing"),e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(c.top="undefined"!=typeof t.top?t.top:c.top,c.right="undefined"!=typeof t.right?t.right:c.right,c.bottom="undefined"!=typeof t.bottom?t.bottom:c.bottom,c.left="undefined"!=typeof t.left?t.left:c.left,e):c},e.width=function(t){return arguments.length?(d=t,e):d},e.height=function(t){return arguments.length?(p=t,e):p},e.color=function(t){return arguments.length?(f=n.utils.getColor(t),s.color(f),e):f},e.showControls=function(t){return arguments.length?(g=t,e):g},e.showLegend=function(t){return arguments.length?(h=t,e):h},e.showXAxis=function(t){return arguments.length?(m=t,e):m},e.showYAxis=function(t){return arguments.length?(v=t,e):v},e.rightAlignYAxis=function(t){return arguments.length?(y=t,l.orient(t?"right":"left"),e):y},e.reduceXTicks=function(t){return arguments.length?(x=t,e):x},e.rotateLabels=function(t){return arguments.length?(k=t,e):k},e.staggerLabels=function(t){return arguments.length?(b=t,e):b},e.tooltip=function(t){return arguments.length?(A=t,e):A},e.tooltips=function(t){return arguments.length?(w=t,e):w},e.tooltipContent=function(t){return arguments.length?(A=t,e):A},e.state=function(t){return arguments.length?(S=t,e):S},e.defaultState=function(t){return arguments.length?(C=t,e):C},e.noData=function(t){return arguments.length?(M=t,e):M},e.transitionDuration=function(t){return arguments.length?(I=t,e):I},e},n.models.multiBarHorizontal=function(){function e(n){return n.each(function(e){var n=c-u.left-u.right,p=d-u.top-u.bottom;t.select(this),b&&(e=t.layout.stack().offset("zero").values(function(t){return t.values}).y(m)(e)),e=e.map(function(t,e){return t.values=t.values.map(function(t){return t.series=e,t}),t}),b&&e[0].values.map(function(t,n){var r=0,a=0;e.map(function(t){t=t.values[n],t.size=Math.abs(t.y),0>t.y?(t.y1=a-t.size,a-=t.size):(t.y1=r,r+=t.size)})});var S=a&&o?[]:e.map(function(t){return t.values.map(function(t,e){return{x:h(t,e),y:m(t,e),y0:t.y0,y1:t.y1}})});f.domain(a||t.merge(S).map(function(t){return t.x})).rangeBands(i||[0,p],.1),g.domain(o||t.extent(t.merge(S).map(function(t){return b?0<t.y?t.y1+t.y:t.y1:t.y}).concat(v))),k&&!b?g.range(l||[0>g.domain()[0]?w:0,n-(0<g.domain()[1]?w:0)]):g.range(l||[0,n]),s=s||t.scale.linear().domain(g.domain()).range([g(0),g(0)]),n=t.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([e]),p=n.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),p.append("defs"),p=p.append("g"),n.select("g"),p.append("g").attr("class","nv-groups"),n.attr("transform","translate("+u.left+","+u.top+")"),n=n.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e}),n.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),n.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),n.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return y(t,e)}).style("stroke",function(t,e){return y(t,e)}),n.transition().style("stroke-opacity",1).style("fill-opacity",.75),n=n.selectAll("g.nv-bar").data(function(t){return t.values}),n.exit().remove(),p=n.enter().append("g").attr("transform",function(t,n,r){return"translate("+s(b?t.y0:0)+","+(b?0:r*f.rangeBand()/e.length+f(h(t,n)))+")"}),p.append("rect").attr("width",0).attr("height",f.rangeBand()/(b?1:e.length)),n.on("mouseover",function(n,r){t.select(this).classed("hover",!0),C.elementMouseover({value:m(n,r),point:n,series:e[n.series],pos:[g(m(n,r)+(b?n.y0:0)),f(h(n,r))+f.rangeBand()*(b?e.length/2:n.series+.5)/e.length],pointIndex:r,seriesIndex:n.series,e:t.event})}).on("mouseout",function(n,r){t.select(this).classed("hover",!1),C.elementMouseout({value:m(n,r),point:n,series:e[n.series],pointIndex:r,seriesIndex:n.series,e:t.event})}).on("click",function(n,r){C.elementClick({value:m(n,r),point:n,series:e[n.series],pos:[f(h(n,r))+f.rangeBand()*(b?e.length/2:n.series+.5)/e.length,g(m(n,r)+(b?n.y0:0))],pointIndex:r,seriesIndex:n.series,e:t.event}),t.event.stopPropagation()}).on("dblclick",function(n,r){C.elementDblClick({value:m(n,r),point:n,series:e[n.series],pos:[f(h(n,r))+f.rangeBand()*(b?e.length/2:n.series+.5)/e.length,g(m(n,r)+(b?n.y0:0))],pointIndex:r,seriesIndex:n.series,e:t.event}),t.event.stopPropagation()}),p.append("text"),k&&!b?(n.select("text").attr("text-anchor",function(t,e){return 0>m(t,e)?"end":"start"}).attr("y",f.rangeBand()/(2*e.length)).attr("dy",".32em").text(function(t,e){return A(m(t,e))}),n.transition().select("text").attr("x",function(t,e){return 0>m(t,e)?-4:g(m(t,e))-g(0)+4})):n.selectAll("text").text(""),n.attr("class",function(t,e){return 0>m(t,e)?"nv-bar negative":"nv-bar positive"}),x&&(r||(r=e.map(function(){return!0})),n.style("fill",function(e,n,a){return t.rgb(x(e,n)).darker(r.map(function(t,e){return e}).filter(function(t,e){return!r[e]})[a]).toString()}).style("stroke",function(e,n,a){return t.rgb(x(e,n)).darker(r.map(function(t,e){return e}).filter(function(t,e){return!r[e]})[a]).toString()})),b?n.transition().attr("transform",function(t,e){return"translate("+g(t.y1)+","+f(h(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(g(m(t,e)+t.y0)-g(t.y0))}).attr("height",f.rangeBand()):n.transition().attr("transform",function(t,n){return"translate("+(0>m(t,n)?g(m(t,n)):g(0))+","+(t.series*f.rangeBand()/e.length+f(h(t,n)))+")"}).select("rect").attr("height",f.rangeBand()/e.length).attr("width",function(t,e){return Math.max(Math.abs(g(m(t,e))-g(0)),1)}),f.copy(),s=g.copy()}),e}var r,a,o,i,l,s,u={top:0,right:0,bottom:0,left:0},c=960,d=500,p=Math.floor(1e4*Math.random()),f=t.scale.ordinal(),g=t.scale.linear(),h=function(t){return t.x},m=function(t){return t.y},v=[0],y=n.utils.defaultColor(),x=null,b=!1,k=!1,w=60,A=t.format(",.2f"),S=1200,C=t.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return e.dispatch=C,e.options=n.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(h=t,e):h},e.y=function(t){return arguments.length?(m=t,e):m},e.margin=function(t){return arguments.length?(u.top="undefined"!=typeof t.top?t.top:u.top,u.right="undefined"!=typeof t.right?t.right:u.right,u.bottom="undefined"!=typeof t.bottom?t.bottom:u.bottom,u.left="undefined"!=typeof t.left?t.left:u.left,e):u},e.width=function(t){return arguments.length?(c=t,e):c},e.height=function(t){return arguments.length?(d=t,e):d},e.xScale=function(t){return arguments.length?(f=t,e):f},e.yScale=function(t){return arguments.length?(g=t,e):g},e.xDomain=function(t){return arguments.length?(a=t,e):a},e.yDomain=function(t){return arguments.length?(o=t,e):o},e.xRange=function(t){return arguments.length?(i=t,e):i},e.yRange=function(t){return arguments.length?(l=t,e):l},e.forceY=function(t){return arguments.length?(v=t,e):v},e.stacked=function(t){return arguments.length?(b=t,e):b},e.color=function(t){return arguments.length?(y=n.utils.getColor(t),e):y},e.barColor=function(t){return arguments.length?(x=n.utils.getColor(t),e):x},e.disabled=function(t){return arguments.length?(r=t,e):r},e.id=function(t){return arguments.length?(p=t,e):p},e.delay=function(t){return arguments.length?(S=t,e):S},e.showValues=function(t){return arguments.length?(k=t,e):k},e.valueFormat=function(t){return arguments.length?(A=t,e):A},e.valuePadding=function(t){return arguments.length?(w=t,e):w},e},n.models.multiBarHorizontalChart=function(){function e(A){return A.each(function(S){var C=t.select(this),M=this,D=(d||parseInt(C.style("width"))||960)-c.left-c.right,I=(p||parseInt(C.style("height"))||400)-c.top-c.bottom;if(e.update=function(){C.transition().duration(w).call(e)},e.container=this,y.disabled=S.map(function(t){return!!t.disabled}),!x){var W;x={};for(W in y)x[W]=y[W]instanceof Array?y[W].slice(0):y[W]}if(!(S&&S.length&&S.filter(function(t){return t.values.length}).length))return W=C.selectAll(".nv-noData").data([b]),W.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),W.attr("x",c.left+D/2).attr("y",c.top+I/2).text(function(t){return t}),e;C.selectAll(".nv-noData").remove(),r=o.xScale(),a=o.yScale(),W=C.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([S]);var z=W.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),F=W.select("g");if(z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-barsWrap"),z.append("g").attr("class","nv-legendWrap"),z.append("g").attr("class","nv-controlsWrap"),h&&(s.width(D-(g?180:0)),o.barColor()&&S.forEach(function(e,n){e.color=t.rgb("#ccc").darker(1.5*n).toString()}),F.select(".nv-legendWrap").datum(S).call(s),c.top!=s.height()&&(c.top=s.height(),I=(p||parseInt(C.style("height"))||400)-c.top-c.bottom),F.select(".nv-legendWrap").attr("transform","translate("+(g?180:0)+","+-c.top+")")),g){var N=[{key:"Grouped",disabled:o.stacked()},{key:"Stacked",disabled:!o.stacked()}];u.width(g?180:0).color(["#444","#444","#444"]),F.select(".nv-controlsWrap").datum(N).attr("transform","translate(0,"+-c.top+")").call(u)}W.attr("transform","translate("+c.left+","+c.top+")"),o.disabled(S.map(function(t){return t.disabled})).width(D).height(I).color(S.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!S[e].disabled})),F.select(".nv-barsWrap").datum(S.filter(function(t){return!t.disabled})).transition().call(o),i.scale(r).ticks(I/24).tickSize(-D,0),F.select(".nv-x.nv-axis").transition().call(i),F.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text").style("opacity",1),l.scale(a).ticks(D/100).tickSize(-I,0),F.select(".nv-y.nv-axis").attr("transform","translate(0,"+I+")"),F.select(".nv-y.nv-axis").transition().call(l),s.dispatch.on("stateChange",function(t){y=t,k.stateChange(y),e.update()}),u.dispatch.on("legendClick",function(t){if(t.disabled){switch(N=N.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":o.stacked(!1);break;case"Stacked":o.stacked(!0)}y.stacked=o.stacked(),k.stateChange(y),e.update()}}),k.on("tooltipShow",function(t){if(m){var r=M.parentNode,a=t.pos[0]+(r.offsetLeft||0),s=t.pos[1]+(r.offsetTop||0),u=i.tickFormat()(o.x()(t.point,t.pointIndex)),c=l.tickFormat()(o.y()(t.point,t.pointIndex)),u=v(t.series.key,u,c,t,e);n.tooltip.show([a,s],u,0>t.value?"e":"w",null,r)}}),k.on("changeState",function(t){"undefined"!=typeof t.disabled&&(S.forEach(function(e,n){e.disabled=t.disabled[n]}),y.disabled=t.disabled),"undefined"!=typeof t.stacked&&(o.stacked(t.stacked),y.stacked=t.stacked),A.call(e)})}),e}var r,a,o=n.models.multiBarHorizontal(),i=n.models.axis(),l=n.models.axis(),s=n.models.legend().height(30),u=n.models.legend().height(30),c={top:30,right:20,bottom:50,left:60},d=null,p=null,f=n.utils.defaultColor(),g=!0,h=!0,m=!0,v=function(t,e,n){return"<h3>"+t+" - "+e+"</h3><p>"+n+"</p>"},y={stacked:!1},x=null,b="No Data Available.",k=t.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),w=250;return o.stacked(!1),i.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),l.orient("bottom").tickFormat(t.format(",.1f")),u.updateState(!1),o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],k.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){m&&n.tooltip.cleanup()}),e.dispatch=k,e.multibar=o,e.legend=s,e.xAxis=i,e.yAxis=l,t.rebind(e,o,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","valueFormat","stacked","barColor"),e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(c.top="undefined"!=typeof t.top?t.top:c.top,c.right="undefined"!=typeof t.right?t.right:c.right,c.bottom="undefined"!=typeof t.bottom?t.bottom:c.bottom,c.left="undefined"!=typeof t.left?t.left:c.left,e):c},e.width=function(t){return arguments.length?(d=t,e):d},e.height=function(t){return arguments.length?(p=t,e):p},e.color=function(t){return arguments.length?(f=n.utils.getColor(t),s.color(f),e):f},e.showControls=function(t){return arguments.length?(g=t,e):g},e.showLegend=function(t){return arguments.length?(h=t,e):h},e.tooltip=function(t){return arguments.length?(v=t,e):v},e.tooltips=function(t){return arguments.length?(m=t,e):m},e.tooltipContent=function(t){return arguments.length?(v=t,e):v},e.state=function(t){return arguments.length?(y=t,e):y},e.defaultState=function(t){return arguments.length?(x=t,e):x},e.noData=function(t){return arguments.length?(b=t,e):b},e.transitionDuration=function(t){return arguments.length?(w=t,e):w},e},n.models.multiChart=function(){function e(M){return M.each(function(M){var D=t.select(this),I=this;e.update=function(){D.transition().call(e)},e.container=this;var W=(s||parseInt(D.style("width"))||960)-i.left-i.right,z=(u||parseInt(D.style("height"))||400)-i.top-i.bottom,F=M.filter(function(t){return!t.disabled&&"line"==t.type&&1==t.yAxis}),N=M.filter(function(t){return!t.disabled&&"line"==t.type&&2==t.yAxis}),B=M.filter(function(t){return!t.disabled&&"bar"==t.type&&1==t.yAxis}),L=M.filter(function(t){return!t.disabled&&"bar"==t.type&&2==t.yAxis}),H=M.filter(function(t){return!t.disabled&&"area"==t.type&&1==t.yAxis}),P=M.filter(function(t){return!t.disabled&&"area"==t.type&&2==t.yAxis}),T=M.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:t.x,y:t.y}})}),Y=M.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:t.x,y:t.y}})});r.domain(t.extent(t.merge(T.concat(Y)),function(t){return t.x})).range([0,W]);var R=D.selectAll("g.wrap.multiChart").data([M]),E=R.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");E.append("g").attr("class","x axis"),E.append("g").attr("class","y1 axis"),E.append("g").attr("class","y2 axis"),E.append("g").attr("class","lines1Wrap"),E.append("g").attr("class","lines2Wrap"),E.append("g").attr("class","bars1Wrap"),E.append("g").attr("class","bars2Wrap"),E.append("g").attr("class","stack1Wrap"),E.append("g").attr("class","stack2Wrap"),E.append("g").attr("class","legendWrap"),R=R.select("g"),c&&(S.width(W/2),R.select(".legendWrap").datum(M.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(S),i.top!=S.height()&&(i.top=S.height(),z=(u||parseInt(D.style("height"))||400)-i.top-i.bottom),R.select(".legendWrap").attr("transform","translate("+W/2+","+-i.top+")")),h.width(W).height(z).interpolate("monotone").color(M.map(function(t,e){return t.color||l[e%l.length]}).filter(function(t,e){return!M[e].disabled&&1==M[e].yAxis&&"line"==M[e].type})),m.width(W).height(z).interpolate("monotone").color(M.map(function(t,e){return t.color||l[e%l.length]}).filter(function(t,e){return!M[e].disabled&&2==M[e].yAxis&&"line"==M[e].type})),v.width(W).height(z).color(M.map(function(t,e){return t.color||l[e%l.length]}).filter(function(t,e){return!M[e].disabled&&1==M[e].yAxis&&"bar"==M[e].type})),y.width(W).height(z).color(M.map(function(t,e){return t.color||l[e%l.length]}).filter(function(t,e){return!M[e].disabled&&2==M[e].yAxis&&"bar"==M[e].type})),x.width(W).height(z).color(M.map(function(t,e){return t.color||l[e%l.length]}).filter(function(t,e){return!M[e].disabled&&1==M[e].yAxis&&"area"==M[e].type})),b.width(W).height(z).color(M.map(function(t,e){return t.color||l[e%l.length]}).filter(function(t,e){return!M[e].disabled&&2==M[e].yAxis&&"area"==M[e].type})),R.attr("transform","translate("+i.left+","+i.top+")");var E=R.select(".lines1Wrap").datum(F),V=R.select(".bars1Wrap").datum(B),_=R.select(".stack1Wrap").datum(H),X=R.select(".lines2Wrap").datum(N),Z=R.select(".bars2Wrap").datum(L),G=R.select(".stack2Wrap").datum(P),O=H.length?H.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[],K=P.length?P.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[];f.domain(a||t.extent(t.merge(T).concat(O),function(t){return t.y})).range([0,z]),g.domain(o||t.extent(t.merge(Y).concat(K),function(t){return t.y})).range([0,z]),h.yDomain(f.domain()),v.yDomain(f.domain()),x.yDomain(f.domain()),m.yDomain(g.domain()),y.yDomain(g.domain()),b.yDomain(g.domain()),H.length&&t.transition(_).call(x),P.length&&t.transition(G).call(b),B.length&&t.transition(V).call(v),L.length&&t.transition(Z).call(y),F.length&&t.transition(E).call(h),N.length&&t.transition(X).call(m),k.ticks(W/100).tickSize(-z,0),R.select(".x.axis").attr("transform","translate(0,"+z+")"),t.transition(R.select(".x.axis")).call(k),w.ticks(z/36).tickSize(-W,0),t.transition(R.select(".y1.axis")).call(w),A.ticks(z/36).tickSize(-W,0),t.transition(R.select(".y2.axis")).call(A),R.select(".y2.axis").style("opacity",Y.length?1:0).attr("transform","translate("+r.range()[1]+",0)"),S.dispatch.on("stateChange",function(){e.update()}),C.on("tooltipShow",function(t){if(d){var r=I.parentNode,a=t.pos[0]+(r.offsetLeft||0),o=t.pos[1]+(r.offsetTop||0),i=k.tickFormat()(h.x()(t.point,t.pointIndex)),l=(2==t.series.yAxis?A:w).tickFormat()(h.y()(t.point,t.pointIndex));t=p(t.series.key,i,l,t,e),n.tooltip.show([a,o],t,void 0,void 0,r.offsetParent)}})}),e}var r,a,o,i={top:30,right:20,bottom:50,left:60},l=t.scale.category20().range(),s=null,u=null,c=!0,d=!0,p=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"};r=t.scale.linear();var f=t.scale.linear(),g=t.scale.linear(),h=n.models.line().yScale(f),m=n.models.line().yScale(g),v=n.models.multiBar().stacked(!1).yScale(f),y=n.models.multiBar().stacked(!1).yScale(g),x=n.models.stackedArea().yScale(f),b=n.models.stackedArea().yScale(g),k=n.models.axis().scale(r).orient("bottom").tickPadding(5),w=n.models.axis().scale(f).orient("left"),A=n.models.axis().scale(g).orient("right"),S=n.models.legend().height(30),C=t.dispatch("tooltipShow","tooltipHide");return h.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+i.left,t.pos[1]+i.top],C.tooltipShow(t)}),h.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+i.left,t.pos[1]+i.top],C.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),v.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+i.left,t.pos[1]+i.top],C.tooltipShow(t)}),v.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),y.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+i.left,t.pos[1]+i.top],C.tooltipShow(t)}),y.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),x.dispatch.on("tooltipShow",function(e){return Math.round(100*x.y()(e.point))?(e.pos=[e.pos[0]+i.left,e.pos[1]+i.top],C.tooltipShow(e),void 0):(setTimeout(function(){t.selectAll(".point.hover").classed("hover",!1)},0),!1)}),x.dispatch.on("tooltipHide",function(t){C.tooltipHide(t)}),b.dispatch.on("tooltipShow",function(e){return Math.round(100*b.y()(e.point))?(e.pos=[e.pos[0]+i.left,e.pos[1]+i.top],C.tooltipShow(e),void 0):(setTimeout(function(){t.selectAll(".point.hover").classed("hover",!1)},0),!1)}),b.dispatch.on("tooltipHide",function(t){C.tooltipHide(t)}),h.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+i.left,t.pos[1]+i.top],C.tooltipShow(t)}),h.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+i.left,t.pos[1]+i.top],C.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),C.on("tooltipHide",function(){d&&n.tooltip.cleanup()}),e.dispatch=C,e.lines1=h,e.lines2=m,e.bars1=v,e.bars2=y,e.stack1=x,e.stack2=b,e.xAxis=k,e.yAxis1=w,e.yAxis2=A,e.options=n.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(getX=t,h.x(t),v.x(t),e):getX},e.y=function(t){return arguments.length?(getY=t,h.y(t),v.y(t),e):getY},e.yDomain1=function(t){return arguments.length?(a=t,e):a},e.yDomain2=function(t){return arguments.length?(o=t,e):o},e.margin=function(t){return arguments.length?(i=t,e):i},e.width=function(t){return arguments.length?(s=t,e):s},e.height=function(t){return arguments.length?(u=t,e):u},e.color=function(t){return arguments.length?(l=t,S.color(t),e):l},e.showLegend=function(t){return arguments.length?(c=t,e):c},e.tooltips=function(t){return arguments.length?(d=t,e):d},e.tooltipContent=function(t){return arguments.length?(p=t,e):p},e},n.models.ohlcBar=function(){function e(n){return n.each(function(e){var n=s-l.left-l.right,A=u-l.top-l.bottom,C=t.select(this);d.domain(r||t.extent(e[0].values.map(f).concat(x))),k?d.range(o||[.5*n/e[0].values.length,n*(e[0].values.length-.5)/e[0].values.length]):d.range(o||[0,n]),p.domain(a||[t.min(e[0].values.map(y).concat(b)),t.max(e[0].values.map(v).concat(b))]).range(i||[A,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),p.domain()[0]===p.domain()[1]&&(p.domain()[0]?p.domain([p.domain()[0]+.01*p.domain()[0],p.domain()[1]-.01*p.domain()[1]]):p.domain([-1,1]));var M=t.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([e[0].values]),D=M.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),I=D.append("defs"),D=D.append("g"),W=M.select("g");D.append("g").attr("class","nv-ticks"),M.attr("transform","translate("+l.left+","+l.top+")"),C.on("click",function(e,n){S.chartClick({data:e,index:n,pos:t.event,id:c})}),I.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),M.select("#nv-chart-clip-path-"+c+" rect").attr("width",n).attr("height",A),W.attr("clip-path",w?"url(#nv-chart-clip-path-"+c+")":""),A=M.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t}),A.exit().remove(),A.enter().append("path").attr("class",function(t,e,n){return(h(t,e)>m(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,r){var a=.9*(n/e[0].values.length);return"m0,0l0,"+(p(h(t,r))-p(v(t,r)))+"l"+-a/2+",0l"+a/2+",0l0,"+(p(y(t,r))-p(h(t,r)))+"l0,"+(p(m(t,r))-p(y(t,r)))+"l"+a/2+",0l"+-a/2+",0z"}).attr("transform",function(t,e){return"translate("+d(f(t,e))+","+p(v(t,e))+")"}).on("mouseover",function(n,r){t.select(this).classed("hover",!0),S.elementMouseover({point:n,series:e[0],pos:[d(f(n,r)),p(g(n,r))],pointIndex:r,seriesIndex:0,e:t.event})}).on("mouseout",function(n,r){t.select(this).classed("hover",!1),S.elementMouseout({point:n,series:e[0],pointIndex:r,seriesIndex:0,e:t.event})}).on("click",function(e,n){S.elementClick({value:g(e,n),data:e,index:n,pos:[d(f(e,n)),p(g(e,n))],e:t.event,id:c}),t.event.stopPropagation()}).on("dblclick",function(e,n){S.elementDblClick({value:g(e,n),data:e,index:n,pos:[d(f(e,n)),p(g(e,n))],e:t.event,id:c}),t.event.stopPropagation()}),A.attr("class",function(t,e,n){return(h(t,e)>m(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),t.transition(A).attr("transform",function(t,e){return"translate("+d(f(t,e))+","+p(v(t,e))+")"}).attr("d",function(t,r){var a=.9*(n/e[0].values.length);return"m0,0l0,"+(p(h(t,r))-p(v(t,r)))+"l"+-a/2+",0l"+a/2+",0l0,"+(p(y(t,r))-p(h(t,r)))+"l0,"+(p(m(t,r))-p(y(t,r)))+"l"+a/2+",0l"+-a/2+",0z"})}),e}var r,a,o,i,l={top:0,right:0,bottom:0,left:0},s=960,u=500,c=Math.floor(1e4*Math.random()),d=t.scale.linear(),p=t.scale.linear(),f=function(t){return t.x},g=function(t){return t.y},h=function(t){return t.open},m=function(t){return t.close},v=function(t){return t.high},y=function(t){return t.low},x=[],b=[],k=!1,w=!0,A=n.utils.defaultColor(),S=t.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return e.dispatch=S,e.options=n.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(f=t,e):f
},e.y=function(t){return arguments.length?(g=t,e):g},e.open=function(t){return arguments.length?(h=t,e):h},e.close=function(t){return arguments.length?(m=t,e):m},e.high=function(t){return arguments.length?(v=t,e):v},e.low=function(t){return arguments.length?(y=t,e):y},e.margin=function(t){return arguments.length?(l.top="undefined"!=typeof t.top?t.top:l.top,l.right="undefined"!=typeof t.right?t.right:l.right,l.bottom="undefined"!=typeof t.bottom?t.bottom:l.bottom,l.left="undefined"!=typeof t.left?t.left:l.left,e):l},e.width=function(t){return arguments.length?(s=t,e):s},e.height=function(t){return arguments.length?(u=t,e):u},e.xScale=function(t){return arguments.length?(d=t,e):d},e.yScale=function(t){return arguments.length?(p=t,e):p},e.xDomain=function(t){return arguments.length?(r=t,e):r},e.yDomain=function(t){return arguments.length?(a=t,e):a},e.xRange=function(t){return arguments.length?(o=t,e):o},e.yRange=function(t){return arguments.length?(i=t,e):i},e.forceX=function(t){return arguments.length?(x=t,e):x},e.forceY=function(t){return arguments.length?(b=t,e):b},e.padData=function(t){return arguments.length?(k=t,e):k},e.clipEdge=function(t){return arguments.length?(w=t,e):w},e.color=function(t){return arguments.length?(A=n.utils.getColor(t),e):A},e.id=function(t){return arguments.length?(c=t,e):c},e},n.models.pie=function(){function e(n){return n.each(function(e){var n=a-r.left-r.right,s=o-r.top-r.bottom,d=Math.min(n,s)/2,A=d-d/5,S=t.select(this);e=S.selectAll(".nv-wrap.nv-pie").data(e);var C=e.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+u).append("g"),M=e.select("g");C.append("g").attr("class","nv-pie"),e.attr("transform","translate("+r.left+","+r.top+")"),M.select(".nv-pie").attr("transform","translate("+n/2+","+s/2+")"),S.on("click",function(e,n){w.chartClick({data:e,index:n,pos:t.event,id:u})});var D=t.svg.arc().outerRadius(A);if(x&&D.startAngle(x),b&&D.endAngle(b),v&&D.innerRadius(d*k),n=t.layout.pie().sort(null).value(function(t){return t.disabled?0:l(t)}),n=e.select(".nv-pie").selectAll(".nv-slice").data(n),n.exit().remove(),s=n.enter().append("g").attr("class","nv-slice").on("mouseover",function(e,n){t.select(this).classed("hover",!0),w.elementMouseover({label:i(e.data),value:l(e.data),point:e.data,pointIndex:n,pos:[t.event.pageX,t.event.pageY],id:u})}).on("mouseout",function(e,n){t.select(this).classed("hover",!1),w.elementMouseout({label:i(e.data),value:l(e.data),point:e.data,index:n,id:u})}).on("click",function(e,n){w.elementClick({label:i(e.data),value:l(e.data),point:e.data,index:n,pos:t.event,id:u}),t.event.stopPropagation()}).on("dblclick",function(e,n){w.elementDblClick({label:i(e.data),value:l(e.data),point:e.data,index:n,pos:t.event,id:u}),t.event.stopPropagation()}),n.attr("fill",function(t,e){return c(t,e)}).attr("stroke",function(t,e){return c(t,e)}),s.append("path").each(function(t){this._current=t}),t.transition(n.select("path")).attr("d",D).attrTween("d",function(e){e.endAngle=isNaN(e.endAngle)?0:e.endAngle,e.startAngle=isNaN(e.startAngle)?0:e.startAngle,v||(e.innerRadius=0);var n=t.interpolate(this._current,e);return this._current=n(0),function(t){return D(n(t))}}),p){var I=t.svg.arc().innerRadius(0);f&&(I=D),g&&(I=t.svg.arc().outerRadius(D.outerRadius())),s.append("g").classed("nv-label",!0).each(function(e){var n=t.select(this);n.attr("transform",function(t){if(y){t.outerRadius=A+10,t.innerRadius=A+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI),e=(t.startAngle+t.endAngle)/2<Math.PI?e-90:e+90;return"translate("+I.centroid(t)+") rotate("+e+")"}return t.outerRadius=d+10,t.innerRadius=d+15,"translate("+I.centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",y?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")}),n.select(".nv-label").transition().attr("transform",function(t){if(y){t.outerRadius=A+10,t.innerRadius=A+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI),e=(t.startAngle+t.endAngle)/2<Math.PI?e-90:e+90;return"translate("+I.centroid(t)+") rotate("+e+")"}return t.outerRadius=d+10,t.innerRadius=d+15,"translate("+I.centroid(t)+")"}),n.each(function(e){var n=t.select(this);n.select(".nv-label text").style("text-anchor",y?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle").text(function(e){var n=(e.endAngle-e.startAngle)/(2*Math.PI),r={key:i(e.data),value:l(e.data),percent:t.format("%")(n)};return e.value&&n>m?r[h]:""});var r=n.select("text").node().getBBox();n.select(".nv-label rect").attr("width",r.width+10).attr("height",r.height+10).attr("transform",function(){return"translate("+[r.x-5,r.y-5]+")"})})}}),e}var r={top:0,right:0,bottom:0,left:0},a=500,o=500,i=function(t){return t.x},l=function(t){return t.y},s=function(t){return t.description},u=Math.floor(1e4*Math.random()),c=n.utils.defaultColor(),d=t.format(",.2f"),p=!0,f=!0,g=!1,h="key",m=.02,v=!1,y=!1,x=!1,b=!1,k=.5,w=t.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return e.dispatch=w,e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(r.top="undefined"!=typeof t.top?t.top:r.top,r.right="undefined"!=typeof t.right?t.right:r.right,r.bottom="undefined"!=typeof t.bottom?t.bottom:r.bottom,r.left="undefined"!=typeof t.left?t.left:r.left,e):r},e.width=function(t){return arguments.length?(a=t,e):a},e.height=function(t){return arguments.length?(o=t,e):o},e.values=function(){return n.log("pie.values() is no longer supported."),e},e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(n){return arguments.length?(l=t.functor(n),e):l},e.description=function(t){return arguments.length?(s=t,e):s},e.showLabels=function(t){return arguments.length?(p=t,e):p},e.labelSunbeamLayout=function(t){return arguments.length?(y=t,e):y},e.donutLabelsOutside=function(t){return arguments.length?(g=t,e):g},e.pieLabelsOutside=function(t){return arguments.length?(f=t,e):f},e.labelType=function(t){return arguments.length?(h=(h=t)||"key",e):h},e.donut=function(t){return arguments.length?(v=t,e):v},e.donutRatio=function(t){return arguments.length?(k=t,e):k},e.startAngle=function(t){return arguments.length?(x=t,e):x},e.endAngle=function(t){return arguments.length?(b=t,e):b},e.id=function(t){return arguments.length?(u=t,e):u},e.color=function(t){return arguments.length?(c=n.utils.getColor(t),e):c},e.valueFormat=function(t){return arguments.length?(d=t,e):d},e.labelThreshold=function(t){return arguments.length?(m=t,e):m},e},n.models.pieChart=function(){function e(n){return n.each(function(n){var u=t.select(this),c=(i||parseInt(u.style("width"))||960)-o.left-o.right,d=(l||parseInt(u.style("height"))||400)-o.top-o.bottom;if(e.update=function(){u.transition().call(e)},e.container=this,p.disabled=n.map(function(t){return!!t.disabled}),!f){var m;f={};for(m in p)f[m]=p[m]instanceof Array?p[m].slice(0):p[m]}if(!n||!n.length)return m=u.selectAll(".nv-noData").data([g]),m.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),m.attr("x",o.left+c/2).attr("y",o.top+d/2).text(function(t){return t}),e;u.selectAll(".nv-noData").remove(),m=u.selectAll("g.nv-wrap.nv-pieChart").data([n]);var v=m.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),y=m.select("g");v.append("g").attr("class","nv-pieWrap"),v.append("g").attr("class","nv-legendWrap"),s&&(a.width(c).key(r.x()),m.select(".nv-legendWrap").datum(n).call(a),o.top!=a.height()&&(o.top=a.height(),d=(l||parseInt(u.style("height"))||400)-o.top-o.bottom),m.select(".nv-legendWrap").attr("transform","translate(0,"+-o.top+")")),m.attr("transform","translate("+o.left+","+o.top+")"),r.width(c).height(d),c=y.select(".nv-pieWrap").datum([n]),t.transition(c).call(r),a.dispatch.on("stateChange",function(t){p=t,h.stateChange(p),e.update()}),r.dispatch.on("elementMouseout.tooltip",function(t){h.tooltipHide(t)}),h.on("changeState",function(t){"undefined"!=typeof t.disabled&&(n.forEach(function(e,n){e.disabled=t.disabled[n]}),p.disabled=t.disabled),e.update()})}),e}var r=n.models.pie(),a=n.models.legend(),o={top:30,right:20,bottom:20,left:20},i=null,l=null,s=!0,u=n.utils.defaultColor(),c=!0,d=function(t,e){return"<h3>"+t+"</h3><p>"+e+"</p>"},p={},f=null,g="No Data Available.",h=t.dispatch("tooltipShow","tooltipHide","stateChange","changeState");return r.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],h.tooltipShow(t)}),h.on("tooltipShow",function(t){if(c){var a=r.description()(t.point)||r.x()(t.point),o=t.pos[0]+0,i=t.pos[1]+0,l=r.valueFormat()(r.y()(t.point)),a=d(a,l,t,e);n.tooltip.show([o,i],a,0>t.value?"n":"s",null,void 0)}}),h.on("tooltipHide",function(){c&&n.tooltip.cleanup()}),e.legend=a,e.dispatch=h,e.pie=r,t.rebind(e,r,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold"),e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(o.top="undefined"!=typeof t.top?t.top:o.top,o.right="undefined"!=typeof t.right?t.right:o.right,o.bottom="undefined"!=typeof t.bottom?t.bottom:o.bottom,o.left="undefined"!=typeof t.left?t.left:o.left,e):o},e.width=function(t){return arguments.length?(i=t,e):i},e.height=function(t){return arguments.length?(l=t,e):l},e.color=function(t){return arguments.length?(u=n.utils.getColor(t),a.color(u),r.color(u),e):u},e.showLegend=function(t){return arguments.length?(s=t,e):s},e.tooltips=function(t){return arguments.length?(c=t,e):c},e.tooltipContent=function(t){return arguments.length?(d=t,e):d},e.state=function(t){return arguments.length?(p=t,e):p},e.defaultState=function(t){return arguments.length?(f=t,e):f},e.noData=function(t){return arguments.length?(g=t,e):g},e},n.models.scatter=function(){function e(E){return E.each(function(e){var E=l-i.left-i.right,V=s-i.top-i.bottom,_=t.select(this);e.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var X=z&&F&&L?[]:t.merge(e.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:h(t,e),size:m(t,e)}})}));d.domain(z||t.extent(X.map(function(t){return t.x}).concat(x))),C&&e[0]?d.range(N||[(E*M+E)/(2*e[0].values.length),E-E*(1+M)/(2*e[0].values.length)]):d.range(N||[0,E]),p.domain(F||t.extent(X.map(function(t){return t.y}).concat(b))).range(B||[V,0]),f.domain(L||t.extent(X.map(function(t){return t.size}).concat(k))).range(H||[16,256]),(d.domain()[0]===d.domain()[1]||p.domain()[0]===p.domain()[1])&&(P=!0),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),p.domain()[0]===p.domain()[1]&&(p.domain()[0]?p.domain([p.domain()[0]-.01*p.domain()[0],p.domain()[1]+.01*p.domain()[1]]):p.domain([-1,1])),isNaN(d.domain()[0])&&d.domain([-1,1]),isNaN(p.domain()[0])&&p.domain([-1,1]),r=r||d,a=a||p;var Z=_.selectAll("g.nv-wrap.nv-scatter").data([e]),X=Z.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+c+(P?" nv-single-point":"")),_=X.append("defs"),X=X.append("g"),G=Z.select("g");X.append("g").attr("class","nv-groups"),X.append("g").attr("class","nv-point-paths"),Z.attr("transform","translate("+i.left+","+i.top+")"),_.append("clipPath").attr("id","nv-edge-clip-"+c).append("rect"),Z.select("#nv-edge-clip-"+c+" rect").attr("width",E).attr("height",V),G.attr("clip-path",D?"url(#nv-edge-clip-"+c+")":""),R=!0,E=Z.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key}),E.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),E.exit().remove(),E.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),E.transition().style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5),y?(V=E.selectAll("circle.nv-point").data(function(t){return t.values},A),V.enter().append("circle").style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("cx",function(t,e){return n.utils.NaNtoZero(r(g(t,e)))}).attr("cy",function(t,e){return n.utils.NaNtoZero(a(h(t,e)))}).attr("r",function(t,e){return Math.sqrt(f(m(t,e))/Math.PI)}),V.exit().remove(),E.exit().selectAll("path.nv-point").transition().attr("cx",function(t,e){return n.utils.NaNtoZero(d(g(t,e)))}).attr("cy",function(t,e){return n.utils.NaNtoZero(p(h(t,e)))}).remove(),V.each(function(e,n){t.select(this).classed("nv-point",!0).classed("nv-point-"+n,!0).classed("hover",!1)}),V.transition().attr("cx",function(t,e){return n.utils.NaNtoZero(d(g(t,e)))}).attr("cy",function(t,e){return n.utils.NaNtoZero(p(h(t,e)))}).attr("r",function(t,e){return Math.sqrt(f(m(t,e))/Math.PI)})):(V=E.selectAll("path.nv-point").data(function(t){return t.values}),V.enter().append("path").style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(t,e){return"translate("+r(g(t,e))+","+a(h(t,e))+")"}).attr("d",t.svg.symbol().type(v).size(function(t,e){return f(m(t,e))})),V.exit().remove(),E.exit().selectAll("path.nv-point").transition().attr("transform",function(t,e){return"translate("+d(g(t,e))+","+p(h(t,e))+")"}).remove(),V.each(function(e,n){t.select(this).classed("nv-point",!0).classed("nv-point-"+n,!0).classed("hover",!1)}),V.transition().attr("transform",function(t,e){return"translate("+d(g(t,e))+","+p(h(t,e))+")"}).attr("d",t.svg.symbol().type(v).size(function(t,e){return f(m(t,e))}))),clearTimeout(o),o=setTimeout(function(){if(!w)return!1;var n=t.merge(e.map(function(t,e){return t.values.map(function(t,n){var r=g(t,n),a=h(t,n);return[d(r)+1e-7*Math.random(),p(a)+1e-7*Math.random(),e,n,t]}).filter(function(t,e){return S(t[4],e)})}));if(!0===Y){if(I){Z.select("defs").selectAll(".nv-point-clips").data([c]).enter().append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+c);var r=Z.select("#nv-points-clip-"+c).selectAll("circle").data(n);r.enter().append("circle").attr("r",W),r.exit().remove(),r.attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}),Z.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+c+")")}n.length&&(n.push([d.range()[0]-20,p.range()[0]-20,null,null]),n.push([d.range()[1]+20,p.range()[1]+20,null,null]),n.push([d.range()[0]-20,p.range()[0]+20,null,null]),n.push([d.range()[1]+20,p.range()[1]-20,null,null]));var a=t.geom.polygon([[-10,-10],[-10,s+10],[l+10,s+10],[l+10,-10]]),r=t.geom.voronoi(n).map(function(t,e){return{data:a.clip(t),series:n[e][2],point:n[e][3]}}),r=Z.select(".nv-point-paths").selectAll("path").data(r);r.enter().append("path").attr("class",function(t,e){return"nv-path-"+e}),r.exit().remove(),r.attr("d",function(t){return 0===t.data.length?"M 0 0":"M"+t.data.join("L")+"Z"});var o=function(t,n){if(R)return 0;var r=e[t.series];if("undefined"!=typeof r){var a=r.values[t.point];n({point:a,series:r,pos:[d(g(a,t.point))+i.left,p(h(a,t.point))+i.top],seriesIndex:t.series,pointIndex:t.point})}};r.on("click",function(t){o(t,T.elementClick)}).on("mouseover",function(t){o(t,T.elementMouseover)}).on("mouseout",function(t){o(t,T.elementMouseout)})}else Z.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,n){if(R||!e[t.series])return 0;var r=e[t.series],a=r.values[n];T.elementClick({point:a,series:r,pos:[d(g(a,n))+i.left,p(h(a,n))+i.top],seriesIndex:t.series,pointIndex:n})}).on("mouseover",function(t,n){if(R||!e[t.series])return 0;var r=e[t.series],a=r.values[n];T.elementMouseover({point:a,series:r,pos:[d(g(a,n))+i.left,p(h(a,n))+i.top],seriesIndex:t.series,pointIndex:n})}).on("mouseout",function(t,n){if(R||!e[t.series])return 0;var r=e[t.series];T.elementMouseout({point:r.values[n],series:r,seriesIndex:t.series,pointIndex:n})});R=!1},300),r=d.copy(),a=p.copy(),f.copy()}),e}var r,a,o,i={top:0,right:0,bottom:0,left:0},l=960,s=500,u=n.utils.defaultColor(),c=Math.floor(1e5*Math.random()),d=t.scale.linear(),p=t.scale.linear(),f=t.scale.linear(),g=function(t){return t.x},h=function(t){return t.y},m=function(t){return t.size||1},v=function(t){return t.shape||"circle"},y=!0,x=[],b=[],k=[],w=!0,A=null,S=function(t){return!t.notActive},C=!1,M=.1,D=!1,I=!0,W=function(){return 25},z=null,F=null,N=null,B=null,L=null,H=null,P=!1,T=t.dispatch("elementClick","elementMouseover","elementMouseout"),Y=!0,R=!1;return e.clearHighlights=function(){t.selectAll(".nv-chart-"+c+" .nv-point.hover").classed("hover",!1)},e.highlightPoint=function(e,n,r){t.select(".nv-chart-"+c+" .nv-series-"+e+" .nv-point-"+n).classed("hover",r)},T.on("elementMouseover.point",function(t){w&&e.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),T.on("elementMouseout.point",function(t){w&&e.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),e.dispatch=T,e.options=n.utils.optionsFunc.bind(e),e.x=function(n){return arguments.length?(g=t.functor(n),e):g},e.y=function(n){return arguments.length?(h=t.functor(n),e):h},e.size=function(n){return arguments.length?(m=t.functor(n),e):m},e.margin=function(t){return arguments.length?(i.top="undefined"!=typeof t.top?t.top:i.top,i.right="undefined"!=typeof t.right?t.right:i.right,i.bottom="undefined"!=typeof t.bottom?t.bottom:i.bottom,i.left="undefined"!=typeof t.left?t.left:i.left,e):i},e.width=function(t){return arguments.length?(l=t,e):l},e.height=function(t){return arguments.length?(s=t,e):s},e.xScale=function(t){return arguments.length?(d=t,e):d},e.yScale=function(t){return arguments.length?(p=t,e):p},e.zScale=function(t){return arguments.length?(f=t,e):f},e.xDomain=function(t){return arguments.length?(z=t,e):z},e.yDomain=function(t){return arguments.length?(F=t,e):F},e.sizeDomain=function(t){return arguments.length?(L=t,e):L},e.xRange=function(t){return arguments.length?(N=t,e):N},e.yRange=function(t){return arguments.length?(B=t,e):B},e.sizeRange=function(t){return arguments.length?(H=t,e):H},e.forceX=function(t){return arguments.length?(x=t,e):x},e.forceY=function(t){return arguments.length?(b=t,e):b},e.forceSize=function(t){return arguments.length?(k=t,e):k},e.interactive=function(t){return arguments.length?(w=t,e):w},e.pointKey=function(t){return arguments.length?(A=t,e):A},e.pointActive=function(t){return arguments.length?(S=t,e):S},e.padData=function(t){return arguments.length?(C=t,e):C},e.padDataOuter=function(t){return arguments.length?(M=t,e):M},e.clipEdge=function(t){return arguments.length?(D=t,e):D},e.clipVoronoi=function(t){return arguments.length?(I=t,e):I},e.useVoronoi=function(t){return arguments.length?(Y=t,!1===Y&&(I=!1),e):Y},e.clipRadius=function(t){return arguments.length?(W=t,e):W},e.color=function(t){return arguments.length?(u=n.utils.getColor(t),e):u},e.shape=function(t){return arguments.length?(v=t,e):v},e.onlyCircles=function(t){return arguments.length?(y=t,e):y},e.id=function(t){return arguments.length?(c=t,e):c},e.singlePoint=function(t){return arguments.length?(P=t,e):P},e},n.models.scatterChart=function(){function e(T){return T.each(function(T){function Y(){if(M)return G.select(".nv-point-paths").style("pointer-events","all"),!1;G.select(".nv-point-paths").style("pointer-events","none");var e=t.mouse(this);g.distortion(C).focus(e[0]),h.distortion(C).focus(e[1]),G.select(".nv-scatterWrap").call(r),k&&G.select(".nv-x.nv-axis").call(a),w&&G.select(".nv-y.nv-axis").call(o),G.select(".nv-distributionX").datum(T.filter(function(t){return!t.disabled})).call(s),G.select(".nv-distributionY").datum(T.filter(function(t){return!t.disabled})).call(u)}var R=t.select(this),E=this,V=(d||parseInt(R.style("width"))||960)-c.left-c.right,_=(p||parseInt(R.style("height"))||400)-c.top-c.bottom;if(e.update=function(){R.transition().duration(H).call(e)},e.container=this,F.disabled=T.map(function(t){return!!t.disabled}),!N){var X;N={};for(X in F)N[X]=F[X]instanceof Array?F[X].slice(0):F[X]}if(!(T&&T.length&&T.filter(function(t){return t.values.length}).length))return X=R.selectAll(".nv-noData").data([L]),X.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),X.attr("x",c.left+V/2).attr("y",c.top+_/2).text(function(t){return t}),e;R.selectAll(".nv-noData").remove(),X=R.selectAll("g.nv-wrap.nv-scatterChart").data([T]);var Z=X.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+r.id()).append("g"),G=X.select("g");if(Z.append("rect").attr("class","nvd3 nv-background"),Z.append("g").attr("class","nv-x nv-axis"),Z.append("g").attr("class","nv-y nv-axis"),Z.append("g").attr("class","nv-scatterWrap"),Z.append("g").attr("class","nv-distWrap"),Z.append("g").attr("class","nv-legendWrap"),Z.append("g").attr("class","nv-controlsWrap"),b){var O=S?V/2:V;i.width(O),X.select(".nv-legendWrap").datum(T).call(i),c.top!=i.height()&&(c.top=i.height(),_=(p||parseInt(R.style("height"))||400)-c.top-c.bottom),X.select(".nv-legendWrap").attr("transform","translate("+(V-O)+","+-c.top+")")}S&&(l.width(180).color(["#444"]),G.select(".nv-controlsWrap").datum(P).attr("transform","translate(0,"+-c.top+")").call(l)),X.attr("transform","translate("+c.left+","+c.top+")"),A&&G.select(".nv-y.nv-axis").attr("transform","translate("+V+",0)"),r.width(V).height(_).color(T.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!T[e].disabled})),0!==m&&r.xDomain(null),0!==v&&r.yDomain(null),X.select(".nv-scatterWrap").datum(T.filter(function(t){return!t.disabled})).call(r),0!==m&&(O=g.domain()[1]-g.domain()[0],r.xDomain([g.domain()[0]-m*O,g.domain()[1]+m*O])),0!==v&&(O=h.domain()[1]-h.domain()[0],r.yDomain([h.domain()[0]-v*O,h.domain()[1]+v*O])),0===v&&0===m||X.select(".nv-scatterWrap").datum(T.filter(function(t){return!t.disabled})).call(r),k&&(a.scale(g).ticks(a.ticks()&&a.ticks().length?a.ticks():V/100).tickSize(-_,0),G.select(".nv-x.nv-axis").attr("transform","translate(0,"+h.range()[0]+")").call(a)),w&&(o.scale(h).ticks(o.ticks()&&o.ticks().length?o.ticks():_/36).tickSize(-V,0),G.select(".nv-y.nv-axis").call(o)),y&&(s.getData(r.x()).scale(g).width(V).color(T.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!T[e].disabled})),Z.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),G.select(".nv-distributionX").attr("transform","translate(0,"+h.range()[0]+")").datum(T.filter(function(t){return!t.disabled})).call(s)),x&&(u.getData(r.y()).scale(h).width(_).color(T.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!T[e].disabled})),Z.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),G.select(".nv-distributionY").attr("transform","translate("+(A?V:-u.size())+",0)").datum(T.filter(function(t){return!t.disabled})).call(u)),t.fisheye&&(G.select(".nv-background").attr("width",V).attr("height",_),G.select(".nv-background").on("mousemove",Y),G.select(".nv-background").on("click",function(){M=!M}),r.dispatch.on("elementClick.freezeFisheye",function(){M=!M})),l.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,C=t.disabled?0:2.5,G.select(".nv-background").style("pointer-events",t.disabled?"none":"all"),G.select(".nv-point-paths").style("pointer-events",t.disabled?"all":"none"),t.disabled?(g.distortion(C).focus(0),h.distortion(C).focus(0),G.select(".nv-scatterWrap").call(r),G.select(".nv-x.nv-axis").call(a),G.select(".nv-y.nv-axis").call(o)):M=!1,e.update()}),i.dispatch.on("stateChange",function(t){F.disabled=t.disabled,B.stateChange(F),e.update()}),r.dispatch.on("elementMouseover.tooltip",function(e){t.select(".nv-chart-"+r.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",function(){return e.pos[1]-_}),t.select(".nv-chart-"+r.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.pos[0]+s.size()),e.pos=[e.pos[0]+c.left,e.pos[1]+c.top],B.tooltipShow(e)}),B.on("tooltipShow",function(t){if(D){var i=E.parentNode,l=t.pos[0]+(i.offsetLeft||0),s=t.pos[1]+(i.offsetTop||0),u=t.pos[0]+(i.offsetLeft||0),d=h.range()[0]+c.top+(i.offsetTop||0),p=g.range()[0]+c.left+(i.offsetLeft||0),f=t.pos[1]+(i.offsetTop||0),m=a.tickFormat()(r.x()(t.point,t.pointIndex)),v=o.tickFormat()(r.y()(t.point,t.pointIndex));null!=I&&n.tooltip.show([u,d],I(t.series.key,m,v,t,e),"n",1,i,"x-nvtooltip"),null!=W&&n.tooltip.show([p,f],W(t.series.key,m,v,t,e),"e",1,i,"y-nvtooltip"),null!=z&&n.tooltip.show([l,s],z(t.series.key,m,v,t,e),0>t.value?"n":"s",null,i)}}),B.on("changeState",function(t){"undefined"!=typeof t.disabled&&(T.forEach(function(e,n){e.disabled=t.disabled[n]}),F.disabled=t.disabled),e.update()}),g.copy(),h.copy()}),e}var r=n.models.scatter(),a=n.models.axis(),o=n.models.axis(),i=n.models.legend(),l=n.models.legend(),s=n.models.distribution(),u=n.models.distribution(),c={top:30,right:20,bottom:50,left:75},d=null,p=null,f=n.utils.defaultColor(),g=t.fisheye?t.fisheye.scale(t.scale.linear).distortion(0):r.xScale(),h=t.fisheye?t.fisheye.scale(t.scale.linear).distortion(0):r.yScale(),m=0,v=0,y=!1,x=!1,b=!0,k=!0,w=!0,A=!1,S=!!t.fisheye,C=0,M=!1,D=!0,I=function(t,e){return"<strong>"+e+"</strong>"},W=function(t,e,n){return"<strong>"+n+"</strong>"},z=null,F={},N=null,B=t.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),L="No Data Available.",H=250;r.xScale(g).yScale(h),a.orient("bottom").tickPadding(10),o.orient(A?"right":"left").tickPadding(10),s.axis("x"),u.axis("y"),l.updateState(!1);var P=[{key:"Magnify",disabled:!0}];return r.dispatch.on("elementMouseout.tooltip",function(e){B.tooltipHide(e),t.select(".nv-chart-"+r.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0),t.select(".nv-chart-"+r.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",u.size())}),B.on("tooltipHide",function(){D&&n.tooltip.cleanup()}),e.dispatch=B,e.scatter=r,e.legend=i,e.controls=l,e.xAxis=a,e.yAxis=o,e.distX=s,e.distY=u,t.rebind(e,r,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(c.top="undefined"!=typeof t.top?t.top:c.top,c.right="undefined"!=typeof t.right?t.right:c.right,c.bottom="undefined"!=typeof t.bottom?t.bottom:c.bottom,c.left="undefined"!=typeof t.left?t.left:c.left,e):c},e.width=function(t){return arguments.length?(d=t,e):d},e.height=function(t){return arguments.length?(p=t,e):p},e.color=function(t){return arguments.length?(f=n.utils.getColor(t),i.color(f),s.color(f),u.color(f),e):f},e.showDistX=function(t){return arguments.length?(y=t,e):y},e.showDistY=function(t){return arguments.length?(x=t,e):x},e.showControls=function(t){return arguments.length?(S=t,e):S},e.showLegend=function(t){return arguments.length?(b=t,e):b},e.showXAxis=function(t){return arguments.length?(k=t,e):k},e.showYAxis=function(t){return arguments.length?(w=t,e):w},e.rightAlignYAxis=function(t){return arguments.length?(A=t,o.orient(t?"right":"left"),e):A},e.fisheye=function(t){return arguments.length?(C=t,e):C},e.xPadding=function(t){return arguments.length?(m=t,e):m},e.yPadding=function(t){return arguments.length?(v=t,e):v},e.tooltips=function(t){return arguments.length?(D=t,e):D},e.tooltipContent=function(t){return arguments.length?(z=t,e):z},e.tooltipXContent=function(t){return arguments.length?(I=t,e):I},e.tooltipYContent=function(t){return arguments.length?(W=t,e):W},e.state=function(t){return arguments.length?(F=t,e):F},e.defaultState=function(t){return arguments.length?(N=t,e):N},e.noData=function(t){return arguments.length?(L=t,e):L},e.transitionDuration=function(t){return arguments.length?(H=t,e):H},e},n.models.scatterPlusLineChart=function(){function e(H){return H.each(function(H){function P(){if(S)return X.select(".nv-point-paths").style("pointer-events","all"),!1;X.select(".nv-point-paths").style("pointer-events","none");var e=t.mouse(this);g.distortion(A).focus(e[0]),h.distortion(A).focus(e[1]),X.select(".nv-scatterWrap").datum(H.filter(function(t){return!t.disabled})).call(r),x&&X.select(".nv-x.nv-axis").call(a),b&&X.select(".nv-y.nv-axis").call(o),X.select(".nv-distributionX").datum(H.filter(function(t){return!t.disabled})).call(s),X.select(".nv-distributionY").datum(H.filter(function(t){return!t.disabled})).call(u)}var T=t.select(this),Y=this,R=(d||parseInt(T.style("width"))||960)-c.left-c.right,E=(p||parseInt(T.style("height"))||400)-c.top-c.bottom;if(e.update=function(){T.transition().duration(B).call(e)},e.container=this,W.disabled=H.map(function(t){return!!t.disabled}),!z){var V;z={};for(V in W)z[V]=W[V]instanceof Array?W[V].slice(0):W[V]}if(!(H&&H.length&&H.filter(function(t){return t.values.length}).length))return V=T.selectAll(".nv-noData").data([N]),V.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),V.attr("x",c.left+R/2).attr("y",c.top+E/2).text(function(t){return t}),e;T.selectAll(".nv-noData").remove(),g=r.xScale(),h=r.yScale();var _=T.selectAll("g.nv-wrap.nv-scatterChart").data([H]);V=_.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+r.id()).append("g");var X=_.select("g");V.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-scatterWrap"),V.append("g").attr("class","nv-regressionLinesWrap"),V.append("g").attr("class","nv-distWrap"),V.append("g").attr("class","nv-legendWrap"),V.append("g").attr("class","nv-controlsWrap"),_.attr("transform","translate("+c.left+","+c.top+")"),k&&X.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)"),y&&(i.width(R/2),_.select(".nv-legendWrap").datum(H).call(i),c.top!=i.height()&&(c.top=i.height(),E=(p||parseInt(T.style("height"))||400)-c.top-c.bottom),_.select(".nv-legendWrap").attr("transform","translate("+R/2+","+-c.top+")")),w&&(l.width(180).color(["#444"]),X.select(".nv-controlsWrap").datum(L).attr("transform","translate(0,"+-c.top+")").call(l)),r.width(R).height(E).color(H.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!H[e].disabled})),_.select(".nv-scatterWrap").datum(H.filter(function(t){return!t.disabled})).call(r),_.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+r.id()+")"),_=_.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t}),_.enter().append("g").attr("class","nv-regLines"),_=_.selectAll(".nv-regLine").data(function(t){return[t]}),_.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),_.transition().attr("x1",g.range()[0]).attr("x2",g.range()[1]).attr("y1",function(t){return h(g.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t){return h(g.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return f(t,n)}).style("stroke-opacity",function(t){return t.disabled||"undefined"==typeof t.slope||"undefined"==typeof t.intercept?0:1}),x&&(a.scale(g).ticks(a.ticks()?a.ticks():R/100).tickSize(-E,0),X.select(".nv-x.nv-axis").attr("transform","translate(0,"+h.range()[0]+")").call(a)),b&&(o.scale(h).ticks(o.ticks()?o.ticks():E/36).tickSize(-R,0),X.select(".nv-y.nv-axis").call(o)),m&&(s.getData(r.x()).scale(g).width(R).color(H.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!H[e].disabled})),V.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),X.select(".nv-distributionX").attr("transform","translate(0,"+h.range()[0]+")").datum(H.filter(function(t){return!t.disabled})).call(s)),v&&(u.getData(r.y()).scale(h).width(E).color(H.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!H[e].disabled})),V.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),X.select(".nv-distributionY").attr("transform","translate("+(k?R:-u.size())+",0)").datum(H.filter(function(t){return!t.disabled})).call(u)),t.fisheye&&(X.select(".nv-background").attr("width",R).attr("height",E),X.select(".nv-background").on("mousemove",P),X.select(".nv-background").on("click",function(){S=!S
}),r.dispatch.on("elementClick.freezeFisheye",function(){S=!S})),l.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,A=t.disabled?0:2.5,X.select(".nv-background").style("pointer-events",t.disabled?"none":"all"),X.select(".nv-point-paths").style("pointer-events",t.disabled?"all":"none"),t.disabled?(g.distortion(A).focus(0),h.distortion(A).focus(0),X.select(".nv-scatterWrap").call(r),X.select(".nv-x.nv-axis").call(a),X.select(".nv-y.nv-axis").call(o)):S=!1,e.update()}),i.dispatch.on("stateChange",function(t){W=t,F.stateChange(W),e.update()}),r.dispatch.on("elementMouseover.tooltip",function(e){t.select(".nv-chart-"+r.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",e.pos[1]-E),t.select(".nv-chart-"+r.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.pos[0]+s.size()),e.pos=[e.pos[0]+c.left,e.pos[1]+c.top],F.tooltipShow(e)}),F.on("tooltipShow",function(t){if(C){var i=Y.parentNode,l=t.pos[0]+(i.offsetLeft||0),s=t.pos[1]+(i.offsetTop||0),u=t.pos[0]+(i.offsetLeft||0),d=h.range()[0]+c.top+(i.offsetTop||0),p=g.range()[0]+c.left+(i.offsetLeft||0),f=t.pos[1]+(i.offsetTop||0),m=a.tickFormat()(r.x()(t.point,t.pointIndex)),v=o.tickFormat()(r.y()(t.point,t.pointIndex));null!=M&&n.tooltip.show([u,d],M(t.series.key,m,v,t,e),"n",1,i,"x-nvtooltip"),null!=D&&n.tooltip.show([p,f],D(t.series.key,m,v,t,e),"e",1,i,"y-nvtooltip"),null!=I&&n.tooltip.show([l,s],I(t.series.key,m,v,t.point.tooltip,t,e),0>t.value?"n":"s",null,i)}}),F.on("changeState",function(t){"undefined"!=typeof t.disabled&&(H.forEach(function(e,n){e.disabled=t.disabled[n]}),W.disabled=t.disabled),e.update()}),g.copy(),h.copy()}),e}var r=n.models.scatter(),a=n.models.axis(),o=n.models.axis(),i=n.models.legend(),l=n.models.legend(),s=n.models.distribution(),u=n.models.distribution(),c={top:30,right:20,bottom:50,left:75},d=null,p=null,f=n.utils.defaultColor(),g=t.fisheye?t.fisheye.scale(t.scale.linear).distortion(0):r.xScale(),h=t.fisheye?t.fisheye.scale(t.scale.linear).distortion(0):r.yScale(),m=!1,v=!1,y=!0,x=!0,b=!0,k=!1,w=!!t.fisheye,A=0,S=!1,C=!0,M=function(t,e){return"<strong>"+e+"</strong>"},D=function(t,e,n){return"<strong>"+n+"</strong>"},I=function(t,e,n,r){return"<h3>"+t+"</h3><p>"+r+"</p>"},W={},z=null,F=t.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),N="No Data Available.",B=250;r.xScale(g).yScale(h),a.orient("bottom").tickPadding(10),o.orient(k?"right":"left").tickPadding(10),s.axis("x"),u.axis("y"),l.updateState(!1);var L=[{key:"Magnify",disabled:!0}];return r.dispatch.on("elementMouseout.tooltip",function(e){F.tooltipHide(e),t.select(".nv-chart-"+r.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0),t.select(".nv-chart-"+r.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",u.size())}),F.on("tooltipHide",function(){C&&n.tooltip.cleanup()}),e.dispatch=F,e.scatter=r,e.legend=i,e.controls=l,e.xAxis=a,e.yAxis=o,e.distX=s,e.distY=u,t.rebind(e,r,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(c.top="undefined"!=typeof t.top?t.top:c.top,c.right="undefined"!=typeof t.right?t.right:c.right,c.bottom="undefined"!=typeof t.bottom?t.bottom:c.bottom,c.left="undefined"!=typeof t.left?t.left:c.left,e):c},e.width=function(t){return arguments.length?(d=t,e):d},e.height=function(t){return arguments.length?(p=t,e):p},e.color=function(t){return arguments.length?(f=n.utils.getColor(t),i.color(f),s.color(f),u.color(f),e):f},e.showDistX=function(t){return arguments.length?(m=t,e):m},e.showDistY=function(t){return arguments.length?(v=t,e):v},e.showControls=function(t){return arguments.length?(w=t,e):w},e.showLegend=function(t){return arguments.length?(y=t,e):y},e.showXAxis=function(t){return arguments.length?(x=t,e):x},e.showYAxis=function(t){return arguments.length?(b=t,e):b},e.rightAlignYAxis=function(t){return arguments.length?(k=t,o.orient(t?"right":"left"),e):k},e.fisheye=function(t){return arguments.length?(A=t,e):A},e.tooltips=function(t){return arguments.length?(C=t,e):C},e.tooltipContent=function(t){return arguments.length?(I=t,e):I},e.tooltipXContent=function(t){return arguments.length?(M=t,e):M},e.tooltipYContent=function(t){return arguments.length?(D=t,e):D},e.state=function(t){return arguments.length?(W=t,e):W},e.defaultState=function(t){return arguments.length?(z=t,e):z},e.noData=function(t){return arguments.length?(N=t,e):N},e.transitionDuration=function(t){return arguments.length?(B=t,e):B},e},n.models.sparkline=function(){function e(n){return n.each(function(e){var n=s-l.left-l.right,c=u-l.top-l.bottom,m=t.select(this);d.domain(r||t.extent(e,f)).range(o||[0,n]),p.domain(a||t.extent(e,g)).range(i||[c,0]),e=m.selectAll("g.nv-wrap.nv-sparkline").data([e]),e.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),e.select("g"),e.attr("transform","translate("+l.left+","+l.top+")"),n=e.selectAll("path").data(function(t){return[t]}),n.enter().append("path"),n.exit().remove(),n.style("stroke",function(t,e){return t.color||h(t,e)}).attr("d",t.svg.line().x(function(t,e){return d(f(t,e))}).y(function(t,e){return p(g(t,e))})),e=e.selectAll("circle.nv-point").data(function(t){function e(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var n=t.map(function(t,e){return g(t,e)}),r=e(n.lastIndexOf(p.domain()[1])),a=e(n.indexOf(p.domain()[0])),n=e(n.length-1);return[a,r,n].filter(function(t){return null!=t})}),e.enter().append("circle"),e.exit().remove(),e.attr("cx",function(t){return d(f(t,t.pointIndex))}).attr("cy",function(t){return p(g(t,t.pointIndex))}).attr("r",2).attr("class",function(t){return f(t,t.pointIndex)==d.domain()[1]?"nv-point nv-currentValue":g(t,t.pointIndex)==p.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),e}var r,a,o,i,l={top:2,right:0,bottom:2,left:0},s=400,u=32,c=!0,d=t.scale.linear(),p=t.scale.linear(),f=function(t){return t.x},g=function(t){return t.y},h=n.utils.getColor(["#000"]);return e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(l.top="undefined"!=typeof t.top?t.top:l.top,l.right="undefined"!=typeof t.right?t.right:l.right,l.bottom="undefined"!=typeof t.bottom?t.bottom:l.bottom,l.left="undefined"!=typeof t.left?t.left:l.left,e):l},e.width=function(t){return arguments.length?(s=t,e):s},e.height=function(t){return arguments.length?(u=t,e):u},e.x=function(n){return arguments.length?(f=t.functor(n),e):f},e.y=function(n){return arguments.length?(g=t.functor(n),e):g},e.xScale=function(t){return arguments.length?(d=t,e):d},e.yScale=function(t){return arguments.length?(p=t,e):p},e.xDomain=function(t){return arguments.length?(r=t,e):r},e.yDomain=function(t){return arguments.length?(a=t,e):a},e.xRange=function(t){return arguments.length?(o=t,e):o},e.yRange=function(t){return arguments.length?(i=t,e):i},e.animate=function(t){return arguments.length?(c=t,e):c},e.color=function(t){return arguments.length?(h=n.utils.getColor(t),e):h},e},n.models.sparklinePlus=function(){function e(n){return n.each(function(f){function v(){if(!c){var t=A.selectAll(".nv-hoverValue").data(u),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+r(o.x()(f[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),u.length&&(e.append("line").attr("x1",0).attr("y1",-i.top).attr("x2",0).attr("y2",b),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-i.top).attr("text-anchor","end").attr("dy",".9em"),A.select(".nv-hoverValue .nv-xValue").text(d(o.x()(f[u[0]],u[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-i.top).attr("text-anchor","start").attr("dy",".9em"),A.select(".nv-hoverValue .nv-yValue").text(p(o.y()(f[u[0]],u[0]))))}}var y=t.select(this),x=(l||parseInt(y.style("width"))||960)-i.left-i.right,b=(s||parseInt(y.style("height"))||400)-i.top-i.bottom;if(e.update=function(){e(n)},e.container=this,!f||!f.length){var k=y.selectAll(".nv-noData").data([m]);return k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",i.left+x/2).attr("y",i.top+b/2).text(function(t){return t}),e}y.selectAll(".nv-noData").remove(),k=o.y()(f[f.length-1],f.length-1),r=o.xScale(),a=o.yScale();var w=y.selectAll("g.nv-wrap.nv-sparklineplus").data([f]),y=w.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),A=w.select("g");y.append("g").attr("class","nv-sparklineWrap"),y.append("g").attr("class","nv-valueWrap"),y.append("g").attr("class","nv-hoverArea"),w.attr("transform","translate("+i.left+","+i.top+")"),w=A.select(".nv-sparklineWrap"),o.width(x).height(b),w.call(o),w=A.select(".nv-valueWrap").selectAll(".nv-currentValue").data([k]),w.enter().append("text").attr("class","nv-currentValue").attr("dx",h?-8:8).attr("dy",".9em").style("text-anchor",h?"end":"start"),w.attr("x",x+(h?i.right:0)).attr("y",g?function(t){return a(t)}:0).style("fill",o.color()(f[f.length-1],f.length-1)).text(p(k)),y.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!c){for(var e=t.mouse(this)[0]-i.left,n=f,e=Math.round(r.invert(e)),a=Math.abs(o.x()(n[0],0)-e),l=0,s=0;s<n.length;s++)Math.abs(o.x()(n[s],s)-e)<a&&(a=Math.abs(o.x()(n[s],s)-e),l=s);u=[l],v()}}).on("click",function(){c=!c}).on("mouseout",function(){u=[],v()}),A.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-i.left+","+-i.top+")"}).attr("width",x+i.left+i.right).attr("height",b+i.top)}),e}var r,a,o=n.models.sparkline(),i={top:15,right:100,bottom:10,left:50},l=null,s=null,u=[],c=!1,d=t.format(",r"),p=t.format(",.2f"),f=!0,g=!0,h=!1,m="No Data Available.";return e.sparkline=o,t.rebind(e,o,"x","y","xScale","yScale","color"),e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(i.top="undefined"!=typeof t.top?t.top:i.top,i.right="undefined"!=typeof t.right?t.right:i.right,i.bottom="undefined"!=typeof t.bottom?t.bottom:i.bottom,i.left="undefined"!=typeof t.left?t.left:i.left,e):i},e.width=function(t){return arguments.length?(l=t,e):l},e.height=function(t){return arguments.length?(s=t,e):s},e.xTickFormat=function(t){return arguments.length?(d=t,e):d},e.yTickFormat=function(t){return arguments.length?(p=t,e):p},e.showValue=function(t){return arguments.length?(f=t,e):f},e.alignValue=function(t){return arguments.length?(g=t,e):g},e.rightAlignValue=function(t){return arguments.length?(h=t,e):h},e.noData=function(t){return arguments.length?(m=t,e):m},e},n.models.stackedArea=function(){function e(n){return n.each(function(n){var p=i-o.left-o.right,x=l-o.top-o.bottom,b=t.select(this);r=v.xScale(),a=v.yScale();var k=n;n=n.map(function(t,e){return t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t}),t}),n=n.filter(function(t){return!t.disabled}),n=t.layout.stack().order(g).offset(f).values(function(t){return t.values}).x(c).y(d).out(function(t,e,n){n=0===d(t)?0:n,t.display={y:n,y0:e}})(n);var b=b.selectAll("g.nv-wrap.nv-stackedarea").data([n]),w=b.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),A=w.append("defs"),w=w.append("g"),S=b.select("g");w.append("g").attr("class","nv-areaWrap"),w.append("g").attr("class","nv-scatterWrap"),b.attr("transform","translate("+o.left+","+o.top+")"),v.width(p).height(x).x(c).y(function(t){return t.display.y+t.display.y0}).forceY([0]).color(n.map(function(t){return t.color||s(t,t.seriesIndex)})),S.select(".nv-scatterWrap").datum(n).call(v),A.append("clipPath").attr("id","nv-edge-clip-"+u).append("rect"),b.select("#nv-edge-clip-"+u+" rect").attr("width",p).attr("height",x),S.attr("clip-path",m?"url(#nv-edge-clip-"+u+")":"");var C=t.svg.area().x(function(t,e){return r(c(t,e))}).y0(function(t){return a(t.display.y0)}).y1(function(t){return a(t.display.y+t.display.y0)}).interpolate(h),M=t.svg.area().x(function(t,e){return r(c(t,e))}).y0(function(t){return a(t.display.y0)}).y1(function(t){return a(t.display.y0)}),p=S.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});p.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t){return M(t.values,t.seriesIndex)}).on("mouseover",function(e,n){t.select(this).classed("hover",!0),y.areaMouseover({point:e,series:e.key,pos:[t.event.pageX,t.event.pageY],seriesIndex:n})}).on("mouseout",function(e,n){t.select(this).classed("hover",!1),y.areaMouseout({point:e,series:e.key,pos:[t.event.pageX,t.event.pageY],seriesIndex:n})}).on("click",function(e,n){t.select(this).classed("hover",!1),y.areaClick({point:e,series:e.key,pos:[t.event.pageX,t.event.pageY],seriesIndex:n})}),p.exit().transition().attr("d",function(t,e){return M(t.values,e)}).remove(),p.style("fill",function(t){return t.color||s(t,t.seriesIndex)}).style("stroke",function(t){return t.color||s(t,t.seriesIndex)}),p.transition().attr("d",function(t,e){return C(t.values,e)}),v.dispatch.on("elementMouseover.area",function(t){S.select(".nv-chart-"+u+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),v.dispatch.on("elementMouseout.area",function(t){S.select(".nv-chart-"+u+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),e.d3_stackedOffset_stackPercent=function(t){var e,n,r,a=t.length,o=t[0].length,i=1/a,l=[];for(n=0;o>n;++n){for(r=e=0;e<k.length;e++)r+=d(k[e].values[n]);if(r)for(e=0;a>e;e++)t[e][n][1]/=r;else for(e=0;a>e;e++)t[e][n][1]=i}for(n=0;o>n;++n)l[n]=0;return l}}),e}var r,a,o={top:0,right:0,bottom:0,left:0},i=960,l=500,s=n.utils.defaultColor(),u=Math.floor(1e5*Math.random()),c=function(t){return t.x},d=function(t){return t.y},p="stack",f="zero",g="default",h="linear",m=!1,v=n.models.scatter(),y=t.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");return v.size(2.2).sizeDomain([2.2,2.2]),v.dispatch.on("elementClick.area",function(t){y.areaClick(t)}),v.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],y.tooltipShow(t)}),v.dispatch.on("elementMouseout.tooltip",function(t){y.tooltipHide(t)}),e.dispatch=y,e.scatter=v,t.rebind(e,v,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights"),e.options=n.utils.optionsFunc.bind(e),e.x=function(n){return arguments.length?(c=t.functor(n),e):c},e.y=function(n){return arguments.length?(d=t.functor(n),e):d},e.margin=function(t){return arguments.length?(o.top="undefined"!=typeof t.top?t.top:o.top,o.right="undefined"!=typeof t.right?t.right:o.right,o.bottom="undefined"!=typeof t.bottom?t.bottom:o.bottom,o.left="undefined"!=typeof t.left?t.left:o.left,e):o},e.width=function(t){return arguments.length?(i=t,e):i},e.height=function(t){return arguments.length?(l=t,e):l},e.clipEdge=function(t){return arguments.length?(m=t,e):m},e.color=function(t){return arguments.length?(s=n.utils.getColor(t),e):s},e.offset=function(t){return arguments.length?(f=t,e):f},e.order=function(t){return arguments.length?(g=t,e):g},e.style=function(t){if(!arguments.length)return p;switch(p=t){case"stack":e.offset("zero"),e.order("default");break;case"stream":e.offset("wiggle"),e.order("inside-out");break;case"stream-center":e.offset("silhouette"),e.order("inside-out");break;case"expand":e.offset("expand"),e.order("default");break;case"stack_percent":e.offset(e.d3_stackedOffset_stackPercent),e.order("default")}return e},e.interpolate=function(t){return arguments.length?(h=t,e):h},e},n.models.stackedAreaChart=function(){function e(N){return N.each(function(N){var B=t.select(this),L=this,H=(p||parseInt(B.style("width"))||960)-d.left-d.right,P=(f||parseInt(B.style("height"))||400)-d.top-d.bottom;if(e.update=function(){B.transition().duration(F).call(e)},e.container=this,S.disabled=N.map(function(t){return!!t.disabled}),!C){var T;C={};for(T in S)C[T]=S[T]instanceof Array?S[T].slice(0):S[T]}if(!(N&&N.length&&N.filter(function(t){return t.values.length}).length))return T=B.selectAll(".nv-noData").data([M]),T.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),T.attr("x",d.left+H/2).attr("y",d.top+P/2).text(function(t){return t}),e;B.selectAll(".nv-noData").remove(),r=o.xScale(),a=o.yScale(),T=B.selectAll("g.nv-wrap.nv-stackedAreaChart").data([N]);var Y=T.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),R=T.select("g");if(Y.append("rect").style("opacity",0),Y.append("g").attr("class","nv-x nv-axis"),Y.append("g").attr("class","nv-y nv-axis"),Y.append("g").attr("class","nv-stackedWrap"),Y.append("g").attr("class","nv-legendWrap"),Y.append("g").attr("class","nv-controlsWrap"),Y.append("g").attr("class","nv-interactive"),R.select("rect").attr("width",H).attr("height",P),m&&(Y=h?H-I:H,s.width(Y),R.select(".nv-legendWrap").datum(N).call(s),d.top!=s.height()&&(d.top=s.height(),P=(f||parseInt(B.style("height"))||400)-d.top-d.bottom),R.select(".nv-legendWrap").attr("transform","translate("+(H-Y)+","+-d.top+")")),h){var E=[{key:z.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=o.style(),style:"stack"},{key:z.stream||"Stream",metaKey:"Stream",disabled:"stream"!=o.style(),style:"stream"},{key:z.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=o.style(),style:"expand"},{key:z.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=o.style(),style:"stack_percent"}];I=260*(W.length/3),E=E.filter(function(t){return-1!==W.indexOf(t.metaKey)}),u.width(I).color(["#444","#444","#444"]),R.select(".nv-controlsWrap").datum(E).call(u),d.top!=Math.max(u.height(),s.height())&&(d.top=Math.max(u.height(),s.height()),P=(f||parseInt(B.style("height"))||400)-d.top-d.bottom),R.select(".nv-controlsWrap").attr("transform","translate(0,"+-d.top+")")}T.attr("transform","translate("+d.left+","+d.top+")"),x&&R.select(".nv-y.nv-axis").attr("transform","translate("+H+",0)"),b&&(c.width(H).height(P).margin({left:d.left,top:d.top}).svgContainer(B).xScale(r),T.select(".nv-interactive").call(c)),o.width(H).height(P),R.select(".nv-stackedWrap").datum(N).transition().call(o),v&&(i.scale(r).ticks(H/100).tickSize(-P,0),R.select(".nv-x.nv-axis").attr("transform","translate(0,"+P+")"),R.select(".nv-x.nv-axis").transition().duration(0).call(i)),y&&(l.scale(a).ticks("wiggle"==o.offset()?0:P/36).tickSize(-H,0).setTickFormat("expand"==o.style()||"stack_percent"==o.style()?t.format("%"):A),R.select(".nv-y.nv-axis").transition().duration(0).call(l)),o.dispatch.on("areaClick.toggle",function(t){N=1===N.filter(function(t){return!t.disabled}).length?N.map(function(t){return t.disabled=!1,t}):N.map(function(e,n){return e.disabled=n!=t.seriesIndex,e}),S.disabled=N.map(function(t){return!!t.disabled}),D.stateChange(S),e.update()}),s.dispatch.on("stateChange",function(t){S.disabled=t.disabled,D.stateChange(S),e.update()}),u.dispatch.on("legendClick",function(t){t.disabled&&(E=E.map(function(t){return t.disabled=!0,t}),t.disabled=!1,o.style(t.style),S.style=o.style(),D.stateChange(S),e.update())}),c.dispatch.on("elementMousemove",function(r){o.clearHighlights();var a,s,u,p=[];if(N.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,i){s=n.interactiveBisect(t.values,r.pointXValue,e.x()),o.highlightPoint(i,s,!0);var l=t.values[s];if("undefined"!=typeof l){"undefined"==typeof a&&(a=l),"undefined"==typeof u&&(u=e.xScale()(e.x()(l,s)));var c="expand"==o.style()?l.display.y:e.y()(l,s);p.push({key:t.key,value:c,color:g(t,t.seriesIndex),stackedValue:l.display})}}),p.reverse(),2<p.length){var f=e.yScale().invert(r.mouseY),h=null;p.forEach(function(t,e){f>=t.stackedValue.y0&&f<=t.stackedValue.y0+t.stackedValue.y&&(h=e)}),null!=h&&(p[h].highlight=!0)}var m=i.tickFormat()(e.x()(a,s)),v="expand"==o.style()?function(e){return t.format(".1%")(e)}:function(t){return l.tickFormat()(t)};c.tooltip.position({left:u+d.left,top:r.mouseY+d.top}).chartContainer(L.parentNode).enabled(k).valueFormatter(v).data({value:m,series:p})(),c.renderGuideLine(u)}),c.dispatch.on("elementMouseout",function(){D.tooltipHide(),o.clearHighlights()}),D.on("tooltipShow",function(t){if(k){var r=L.parentNode,a=t.pos[0]+(r.offsetLeft||0),s=t.pos[1]+(r.offsetTop||0),u=i.tickFormat()(o.x()(t.point,t.pointIndex)),c=l.tickFormat()(o.y()(t.point,t.pointIndex)),u=w(t.series.key,u,c,t,e);n.tooltip.show([a,s],u,0>t.value?"n":"s",null,r)}}),D.on("changeState",function(t){"undefined"!=typeof t.disabled&&(N.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),"undefined"!=typeof t.style&&o.style(t.style),e.update()})}),e}var r,a,o=n.models.stackedArea(),i=n.models.axis(),l=n.models.axis(),s=n.models.legend(),u=n.models.legend(),c=n.interactiveGuideline(),d={top:30,right:25,bottom:50,left:60},p=null,f=null,g=n.utils.defaultColor(),h=!0,m=!0,v=!0,y=!0,x=!1,b=!1,k=!0,w=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},A=t.format(",.2f"),S={style:o.style()},C=null,M="No Data Available.",D=t.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),I=250,W=["Stacked","Stream","Expanded"],z={},F=250;return i.orient("bottom").tickPadding(7),l.orient(x?"right":"left"),u.updateState(!1),o.dispatch.on("tooltipShow",function(t){t.pos=[t.pos[0]+d.left,t.pos[1]+d.top],D.tooltipShow(t)}),o.dispatch.on("tooltipHide",function(t){D.tooltipHide(t)}),D.on("tooltipHide",function(){k&&n.tooltip.cleanup()}),e.dispatch=D,e.stacked=o,e.legend=s,e.controls=u,e.xAxis=i,e.yAxis=l,e.interactiveLayer=c,t.rebind(e,o,"x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate"),e.options=n.utils.optionsFunc.bind(e),e.margin=function(t){return arguments.length?(d.top="undefined"!=typeof t.top?t.top:d.top,d.right="undefined"!=typeof t.right?t.right:d.right,d.bottom="undefined"!=typeof t.bottom?t.bottom:d.bottom,d.left="undefined"!=typeof t.left?t.left:d.left,e):d},e.width=function(t){return arguments.length?(p=t,e):p},e.height=function(t){return arguments.length?(f=t,e):f},e.color=function(t){return arguments.length?(g=n.utils.getColor(t),s.color(g),o.color(g),e):g},e.showControls=function(t){return arguments.length?(h=t,e):h},e.showLegend=function(t){return arguments.length?(m=t,e):m},e.showXAxis=function(t){return arguments.length?(v=t,e):v},e.showYAxis=function(t){return arguments.length?(y=t,e):y},e.rightAlignYAxis=function(t){return arguments.length?(x=t,l.orient(t?"right":"left"),e):x},e.useInteractiveGuideline=function(t){return arguments.length?(b=t,!0===t&&(e.interactive(!1),e.useVoronoi(!1)),e):b},e.tooltip=function(t){return arguments.length?(w=t,e):w},e.tooltips=function(t){return arguments.length?(k=t,e):k},e.tooltipContent=function(t){return arguments.length?(w=t,e):w},e.state=function(t){return arguments.length?(S=t,e):S},e.defaultState=function(t){return arguments.length?(C=t,e):C},e.noData=function(t){return arguments.length?(M=t,e):M},e.transitionDuration=function(t){return arguments.length?(F=t,e):F},e.controlsData=function(t){return arguments.length?(W=t,e):W},e.controlLabels=function(t){return arguments.length&&"object"==typeof t?(z=t,e):z},l.setTickFormat=l.tickFormat,l.tickFormat=function(t){return arguments.length?(A=t,l):A},e},n});
